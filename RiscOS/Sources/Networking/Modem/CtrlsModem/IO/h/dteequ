/************************************************************************
/
/       Copyright 1994, 1995
/       All Rights Reserved by:
/       RSA
/       7701 Six Forks Road
/       Suite 120
/       Raleigh, NC  27615
/       (919) 846-7171
/
/
/   This document contains material confidential to RSA its contents must
/   not be revealed, used or disclosed to anyone or company with out
/   written permission by RSA.  The information contained herein is solely
/   for the use of RSA.
/
/   File:      dteequ.c  
/
/   Version:   1.0   
/
/   Function:  This file contains the constant definitions for the 
/              DTE I/O code
/
/   Product:   H8/3002 IO code
/
/   Platform:  H8/3002 + TI 16PC564 PCMCIA UART
/
/   History:
/
/   Created:   12/09/94
/
/   ---------------------------------------------------------
/   -         Modifications         -
/   ---------------------------------------------------------
/
/
/   Author & Date:
/   Description:
/   Reason:
/
************************************************************************/

/* Parallel/Serial IO abstraction */
#define TDRE            0x80
#define RDRF            0x40
#define OVERRUN_ERR     0x20
#define FRAMING_ERR     0x10
#define PARITY_ERR      0x08

#define BYPASS_ON       1 
#define BYPASS_OFF      0
#define SERIAL_BYPASS   BYPASS_ON

#if (SERIAL_BYPASS==BYPASS_OFF)
   #define ENABLE_XMTR()   SIO0_SCR |= 0x80
   #define DISABLE_XMTR()  SIO0_SCR &= ~0x80
   #define WRITE_UART(x)   SIO0_TDR = (x);SIO0_TDRE = 0
   #define READ_UART()     SIO0_RDR
   #define ROOM_IN_UART()  (SIO0_SSR & TDRE)?1:0
#else
   #define ENABLE_XMTR()
   #define DISABLE_XMTR()
   #define WRITE_UART(x)   UART_FIFO = (x)
   #define READ_UART()     UART_FIFO
   #define ROOM_IN_UART()  ((UART_LSR & DR)?0:1)
#endif


/**** Standard BUFFERs ************/
#define DTE_BUFFER_SIZE       0x800
#define BUFFER_POINTER_MASK   DTE_BUFFER_SIZE - 1
#define DTE_NEAR_EMPTY        DTE_BUFFER_SIZE * 0.4 
#define DTE_NEAR_FULL         DTE_BUFFER_SIZE * 0.9 
#define OTHER_BUFFER_SIZE     0x200
#define OTHER_NEAR_FULL       OTHER_BUFFER_SIZE * 0.9
#define OTHER_NEAR_EMPTY      OTHER_BUFFER_SIZE * 0.4


/**** defines for dte_mode ****/
#define ACU       1
#define DTE       2
#define FAX       3
#define T_VOICE   4
#define VCV       5

/*** the 4 possible tx break state condtions : ***/
#define TX_BREAK_STATE_IDLE   0  /* no <break> in progress */
#define TX_BREAK_STATE_PSN    1  /* waiting for correct psn in data stream */
#define TX_BREAK_STATE_START  2  /* start sending <break> */
#define TX_BREAK_STATE_TIMING 3  /* wait for <break> to end */

/*** the 4 possible dte_to_break types ***/
#define EXPEDITED_DESTRUCTIVE       0x1
#define EXPEDITED_NONDESTRUCTIVE    0x2
#define NONEXPEDITED_NONDESTRUCTIVE 0x3
/* defined in acu_def
#define IGNORE                      0x0 */

#define BREAK_TIME 220

/*** the 2 possible flow control conditions ***/
#define XON_AND_XOFF  0x1
#define RTS_AND_CTS   0x2


