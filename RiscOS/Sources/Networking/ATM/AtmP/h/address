//
#ifndef AtmP_address_h
#define AtmP_address_h

/* File:    address.h
   Purpose: Interface to address mapping, conversion etc. routines
   Author:  Ben Laughton

   Copyright 1999 Element 14 Ltd.

   This material is the confidential trade secret and proprietary information
   of Element 14 Ltd. It may not be reproduced, used sold, or transferred to
   any third party without the prior written consent of Element 14 Ltd.
   All rights reserved.

   History:

   1999-02-24: BAL
   Created.
 */




/* =============================================================================
 * Include header files
 */

/* TCPIPLibs */
extern "C"
{
    #include "sys/types.h"
}

// Misc
#include "Email/Common/bool.h"

/* Local */
#include "atm.h"
#include "connection.h"




/* =============================================================================
 * Type declarations
 */

class IPConnection;
struct mac_map_t;




/* =============================================================================
 * Function prototype declarations
 */

extern mac_map_t *  mac_map_alloc (void);

extern int ip_map_add (const u_long                ip_addr,
                       const ATML_SOCKADDR *const  atm_addr);


extern const unsigned char *  ip_map_mac_from_ip (const u_long  ip_addr);

extern void ip_map_remove (const unsigned char *const  mac_addr);

extern void ip_map_remove_all (void);

extern u_long  ip_map_ip_from_atm (const ATML_SOCKADDR *const  atm_addr);

extern int  mac_map_add (const unsigned char *const  mac_addr,
                         IPConnection *const         connection,
                         mac_map_t *                 mapping);

extern void  mac_map_remove (const unsigned char *const  mac_addr,
                             IPConnection *const         connection);

extern int  mac_map_count (const unsigned char *const  mac_addr);

extern IPConnection *  mac_map_find_conn (const unsigned char *const  mac_addr);

extern void  mac_map_remove_all (void);

extern const unsigned char *  mac_from_atm (
    const ATML_SOCKADDR *const  atm_addr);

extern int  atm_aton (const char *  text_addr,
                      char *        numeric_addr);

extern bool  compare_atm_addresses (const ATML_SOCKADDR *const  atm_addr1,
                                    const ATML_SOCKADDR *const  atm_addr2);

#endif
