/***********************************************************************
 *                                                                     *
 *            address.h                                                *
 *            =========                                                *
 *                                                                     *
 *  Header file for the PC sockets code.                               *
 *                                                                     *
 *  (c) 1995 Advanced Telecommunication Modules Ltd.                   *
 *                                                                     *
 ***********************************************************************/

#ifndef PC_SOCKETS_ADDRESS_H
#define PC_SOCKETS_ADDRESS_H

#include "atypes.h"


/* Socket types.
 * TBD: Get proper definitions.
 */
#define SOCK_RAW       (0)      /* TBD */
#define SOCK_SEQPACKET (1)      /* TBD */



/* Protocol types.
 * TBD: Get proper definitions.
 */
#define ATMPROTO_AAL0  (3540)
#define ATMPROTO_AAL5  (3541)      /* TBD */



/* Address family defintions.
 * TBD: Get proper AF_ definitions.
 */
#define AF_ATML_ATM    (1370)        /* TBD */
#define AF_ATML_PVC    (1371)        /* TBD */
#define AF_ATML_MSNL   (1372)        /* TBD */




/* Generic ATM Socket Address.
 * Suitable for Q2931 addressing.
 */
#define ADDRESSTYPE_E164        (0) // E.164 addressing
#define ADDRESSTYPE_NSAP	(1) // OSI NSAP addressing

typedef struct atm_address
{
    S32 atm_addresstype;       // see #define values above
    S32 numofdigits;           // number of characters in address
    BYTE contents [20];        // character array containing the address

} ATML_ADDRESS;

typedef struct atml_sockaddr_atm
{
    U16 satm_family;                 // AF_ATML_ATM
    U16 pad;			     // align following field to 32 bit boundary
    ATML_ADDRESS satm_number;        /* Part Number IE */
    ATML_ADDRESS satm_subaddress;    /* Party sub address IE */
    S32 satm_port;                   /* B-LLI and/or B_HLI */

} ATML_SOCKADDR_ATM;




/* ATM PVC Socket Address.
 * Specifies Virtual Channel Number directly.
 */
typedef struct atml_sockaddr_pvc
{
    U16 satm_family;                // AF_ATML_PVC
    U16 pad;			    // align following field to 32 bit boundary
    S32 satm_pvc;                   /* VCI number */

} ATML_SOCKADDR_PVC;




/* MSNL Socket Address.
 * Specifies MSNL address and port number.
 * If the address is a.b.c.d, 'a' is the ls byte,
 * and 'd' the ms byte in the 32 bit packed integer.
 */
typedef struct atml_sockaddr_msnl
{
    U16 satm_family;                        // AF_ATML_MSNL
    U16 pad;                                // align field to 32 bit value
    BYTE msnl_address[32];                  /* MSNL address (byte packed) */
    BYTE msnl_port[32];                     /* MSNL port (byte packed) */

} ATML_SOCKADDR_MSNL;




/* Socket Address Structures.
 * All structure are common in that the first
 * word (16 bit) defines the address family.
 */
typedef struct
{
    union
    {
        ATML_SOCKADDR_ATM        atm;    /* General ATM address (Q2931) */
        ATML_SOCKADDR_PVC    pvc;    /* PVC address */
        ATML_SOCKADDR_MSNL  msnl;   /* MSNL address */
    } address;

} ATML_SOCKADDR;



#endif

