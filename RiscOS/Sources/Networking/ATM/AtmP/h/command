//
#ifndef AtmP_command_h
#define AtmP_command_h

/* File:    command.h
   Purpose: Interface to command service
   Author:  Ben Laughton

   Copyright 1999 Element 14 Ltd.

   This material is the confidential trade secret and proprietary information
   of Element 14 Ltd. It may not be reproduced, used sold, or transferred to
   any third party without the prior written consent of Element 14 Ltd.
   All rights reserved.

   History:

   1999-03-23: BAL
   Created.
 */




// =============================================================================
// Include header files

// Local
#include "asyncop.h"
#include "service.h"




// =============================================================================
// Declare global variables

class CommandService;
extern CommandService *  command_service;



// =============================================================================
// Declare classes

class CommandService : public Service
{
    // Public methods
    public:
        static CommandService *  Create (int &  error);

        virtual MessageHandlerRC  MessageHandler (NICMessage    msg,
                                                  NICExtension  ext);

        int  GetMAC (unsigned char *  macadr);

        void  TxAttachx (const int  service,
                         const int  handle);

        void  TxGetMAC ();

        void  TxDetach (const int  handle);


    // Private methods
    private:
        CommandService (int &  error);

    // Private attributes
    private:
        enum { CommandService_Handle = 0 };
        AsyncOp *                get_mac_op;
        static CommandService *  instance;
};

#endif
