/* services.h -- defines for services and channel handles */

/* services provided by the ATM25 NIC */
#ifndef SERV_H
#define SERV_H

#define CMD_SERVICE             0x0
#define LAN_SERVICE		0x1
#define ECHO_SERVICE		0x3
#define SOCK_SERVICE		0x4
#define ARP_SERVICE		0x5

/* predefined handles known to the ATM25 NIC */
#define CMD_HANDLE    	        0x0
#define ECHO_HANDLE		0x1
#define LAN_HANDLE		0x2

/* Commands known to the Command Service */
#define SO_ATTACH    	        0x1
#define SO_ATTACHX		0x8
#define SO_DETACH		0x2
#define SO_GET_MAC		0x5
#define SO_SET_MAC		0x6

/* Commands known to the LAN Emulation Service */
#define ALE_DATA     	     	0x4
#define ALE_OKTORECV		0x6
#define ALE_GET_MAC		0x1
#define ALE_SET_MAC		0x5
#define ALE_SET_MCAST		0x0
#define ALE_RX_DROPPED		0x2
#define ALE_TX_DROPPED		0x3
#define ALE_CONFIG		0x7

/* Commands known to the Socket service */
#define AS_SOCKET    	 	0x0
#define AS_BIND			0x1
#define AS_CONNECT		0x2  /* client -> server  */
#define AS_CONNECT_ACK		0x3
#define AS_LISTEN		0x4
#define AS_CLOSE		0x5
#define AS_CLOSE_ACK		0x6
#define AS_DATA			0x7
#define AS_DATA_END		0x8
#define AS_DATA_ABORT		0x9
#define AS_SET_QOS		0xa
#define AS_DATA_LENGTH		0xb
/* reserved 0xc..0xe */
#define AS_ERROR		0xf

/* Command parameter masks */
#define CMD_MESSAGE    	        0x400       /* same as DATA_MSG, but should be a one at this position */
#define CMD_RESERVED		0x8000	    /* one bit, which must be zero */

/* Data parameter masks */
#define DATA_MSG                0x400       /* same as CMD_MSG, bt should be a zero at this position */
#define DATA_FIRST		0x8000
#define DATA_LAST		0x10000
#define DATA_EXTEND		0x20000
#define DATA_RESERVED		0x1c0000    /* three bits, which must be zero */
#define DATA_CMD		0x7800      /* four bits of command info */
#define DATA_SIZE		0xffe00000  /* 11 bits of packet size info */
#define DATA_HANDLE		0x3ff       /* 10 bits of handle info */


/* Data Parameter shifts */
#define DATA_SIZE_SHIFT	        21          /* data field starts at bit 21 */
#define DATA_CMD_SHIFT		11	    /* cmd filed starts at bit 11 */

#define SOCKET_HANDLE_BASE      3
#define MAX_SOCKET_HANDLE	64

#endif


