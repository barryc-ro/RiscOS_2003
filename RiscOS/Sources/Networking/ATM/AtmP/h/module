/*	MODULE.H

Project : ATML 'Panther' ATM card driver
Module: ATM25

Purpose: Memory locations'n'stuff like that.


History:

Date      Who     Description of change
===========================================
17/3/97    CP      File inherited, header added.
                   Changed values for the following memory locations to
                   reflect those chosen for the NC/ethernet/StaticIP stuff.

                   IPCMOSBASE, CONTROLCMOSBASE,GWAYCMOSBASE,MASKCMOSBASE

6/2/98     CP      Added value for UPSTREAM_BANDLIMIT

30/4/98    CP      Removed a lot of wrong or unused function prototypes

***************************************************************************/
// header file for module.c

/* Begin-Prologue */
#ifndef MODULE_H
#define MODULE_H
#undef DECLARE
#ifdef PROTOTYPES_INTERNAL
#define DECLARE
#define INIT(x) =(x)
#else
#define DECLARE extern
#define INIT(x)
#endif
/* End-Prologue */

#define MAXEZSWI      18

#define PODULE_DEFAULT 0x1

/* 28/5/98:CP:not needed; defined in cmhg.h
#define AL_SWI_BASE 0x47b00
*/

#define PnP_RegisterDDI 0xc07c0
#define Service_PreReset 0x45




#define PVC_BOOT_DEFAULT_PORT    0x21


/*
30/4/98:CP:removed because (1) they are now defined in cmhg.h and (2) they
           are WRONG!
DECLARE _kernel_oserror *module_init(char *, int , void *);
DECLARE void module_sc_handler(int, _kernel_swi_regs *);
DECLARE _kernel_oserror *atm_cli_handler(char *, int , int , void *);
DECLARE int callb_handler(int *);
DECLARE int ticker_handler(_kernel_swi_regs *);
DECLARE void module_final(void);
DECLARE int atm_irq_handler(_kernel_swi_regs *, void *);
*/

/* 30/4/98:CP:not used any more
DECLARE _kernel_oserror *atm_swi_handler(int, _kernel_swi_regs *, void *);
*/

DECLARE _kernel_oserror *atm_error(int);
DECLARE void setcallback(void);
DECLARE int callback(int (*func)(void));

DECLARE int enable_ticker_handler(void);
DECLARE int disable_ticker_handler(void);



DECLARE int atm_endofplay(_kernel_swi_regs *);
DECLARE int atm_startofplay(_kernel_swi_regs *);
DECLARE int atm_readmacadr(_kernel_swi_regs *);
DECLARE int atm_setmacadr(_kernel_swi_regs *);
DECLARE int atm_setbufs(_kernel_swi_regs *);
DECLARE int atm_getstats(_kernel_swi_regs *);


DECLARE unsigned char macadr[6];
DECLARE int podule INIT(PODULE_DEFAULT);
DECLARE int quiet INIT(QUIET_DEFAULT);
DECLARE int debug INIT(DEBUG_DEFAULT);
DECLARE int do_start INIT(0);
DECLARE int do_arp INIT(0);
DECLARE int do_vc INIT(0);
DECLARE int do_pvc INIT(0);
DECLARE volatile int do_local_arp INIT(0);
DECLARE int tear_down INIT(0);
DECLARE int echo_ack INIT(0);


DECLARE int ip_rx INIT(0);
DECLARE int ip_tx INIT(0);
DECLARE int mpeg_tx INIT(0);
DECLARE int mpeg_rx INIT(0);
DECLARE int mpeg_discards1 INIT(0);
DECLARE int mpeg_discards2 INIT(0);
DECLARE int mpeg_discards3 INIT(0);

DECLARE int callbs INIT(0);
DECLARE int callb_echos INIT(0);
DECLARE int callb_startups INIT(0);
DECLARE int callb_teardowns INIT(0);
DECLARE int callb_arps INIT(0);

DECLARE int boson_rx_pkts INIT(0);
DECLARE int boson_cmd_pkts INIT(0);
DECLARE int boson_msg_pkts INIT(0);
DECLARE int atm_connections INIT(0);
DECLARE int atm_listens INIT(0);
DECLARE int irq_closes INIT(0);
DECLARE int irq_closeds INIT(0);
DECLARE int irq_errors INIT(0);
DECLARE int irq_connects INIT(0);
DECLARE int irq_connect_reqs INIT(0);
DECLARE int irq_data_ends INIT(0);
DECLARE int irq_datas INIT(0);
DECLARE int irq_refusals INIT(0);
DECLARE int irq_packets INIT(0);
DECLARE int irq_rx_discards INIT(0);
DECLARE int irq_rx_errors INIT(0);
DECLARE int irq_con_req_errors INIT(0);
DECLARE int irq_con_ack_errors INIT(0);
DECLARE int irq_con_req_acks INIT(0);
DECLARE int irq_con_refusals INIT(0);
DECLARE int irq_mast_errors INIT(0);
DECLARE int irq_bogus_pkts INIT(0);
DECLARE int irq_pkt_hiwm INIT(0);
DECLARE int irq_buffer_recovers INIT(0);
DECLARE int irq_ip_pkts_dropped INIT(0);
DECLARE int arp_count INIT(0);
DECLARE int local_arp_count INIT(0);
DECLARE int discard_arp_count INIT(0);
DECLARE int bcast_arp_count INIT(0);

DECLARE unsigned int *boson_trail INIT(NULL);
DECLARE unsigned int *boson_next INIT(NULL);
DECLARE unsigned int boson_num INIT(0);
DECLARE unsigned int *ext_trail INIT(NULL);
DECLARE unsigned int *ext_next INIT(NULL);
DECLARE unsigned int ext_num INIT(0);
DECLARE unsigned int *status_buffer INIT(0);
DECLARE struct mast *last_m INIT(NULL);
DECLARE unsigned int last_msg_handle INIT(0xffffffff);

DECLARE int ticker_period INIT(0); /* cS delay before circuit_checker kicks in */
DECLARE int ticker_tally INIT(0);
DECLARE int streamhandle;

/* Begin-Epilogue */
#undef PROTOTYPES_INTERNAL
#undef INIT
#undef DECLARE
#endif

/* End_Epilogue */

