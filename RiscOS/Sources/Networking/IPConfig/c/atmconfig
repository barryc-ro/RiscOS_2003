/*
 * IPConfig (atmconfig.c)
 *
 * Copyright (C) Element 14 Ltd. 1999
 *
 */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdarg.h>
#include <signal.h>
#include <ctype.h>
#include "kernel.h"
#include "swis.h"

#include "sys/types.h"
#include "netinet/in.h"
#include "net/if_arp.h"
#include "net/if.h"
#include "netinet/if_ether.h"
#include "arpa/inet.h"
#include "netdb.h"

#ifdef TRACE
#  include "IPConfHdrD.h"
#else
#  include "IPConfHdr.h"
#endif

#include "NVRAMConf.h"

#define ATM_BootConfigure	(0x47B3F)

_kernel_oserror *atm_boot_config(
	int flags,
	int reason,
	int item,
	int data,
	int *old_data)
{
        return _swix(ATM_BootConfigure, _INR(0,3)|_OUT(3),
        	flags,
        	reason,
        	item,
        	data,
        	old_data?old_data:&data);
}

_kernel_oserror *atm_read_config(
        int item,
        int *data)
{
        return atm_boot_config(0, atm_config_READ, item, 0, data);
}


_kernel_oserror *atm_write_config(
        int item,
        int data)
{
        return atm_boot_config(0, atm_config_WRITE, item, data, &data);
}

_kernel_oserror *atm_validate_config(
        int item,
        int data)
{
        return atm_boot_config(0, atm_config_VALIDATE, item, data, &data);
}
