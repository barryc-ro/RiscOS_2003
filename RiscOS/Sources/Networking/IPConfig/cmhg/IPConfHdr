;
; cmhg.IPConfHdr
;
; Copyright (C) Acorn Computers Ltd. 1998
;
#include "VersionNum"

; Title string
title-string:           IPConfig

; Version information
help-string: 		IPConfig Module_MajorVersion_CMHG Module_MinorVersion_CMHG

; Build date information
date-string: 		Module_Date_CMHG

; Initialisation routine.
initialisation-code:    module_init

; Finalisation routine.
finalisation-code:	module_final

; Service call handler.  The common ones are:
;   Service_PostInit         (0x73)
;   Service_DCIDriverStatus  (0x9D)
;
; and the extra ones for trace builds only:
;   Service_Reset            (0x27)
;   Service_InternetStatus   (0xB0)
;   Service_PreReset         (0x45)
;   Service_FSRedeclare      (x040)
;
#ifdef TRACE
service-call-handler:   module_service 0x73 0x9d  0xb0 0x45 0x40 0x27
#else
service-call-handler:   module_service 0x73 0x9d
#endif

; Callback veneers.
generic-veneers:	callb_entry/callb_handler,	; for DoBootP
			veneer_reboot/reboot		; to reboot on callback.

#ifdef TRACE
;
; only trace builds hook onto FSCV to notice filing system boot
;
vector-handlers:	fsboot
;
#endif

#ifdef TRACE
;
; Only trace builds contain the *-commands
;
command-keyword-table:	module_commands

  IPConfig_Configure(min-args:0, max-args:0, help-text: "Enter config screen"),
  IPConfig_ExecBootP(min-args:0, max-args:0, help-text: "Do a BOOTP"),
  IPConfig_Service(min-args:1, max-args:1, help-text: "Fake service call"),
  IPConfig_Log(min-args:0, max-args:0, help-text: "Display log buffer")
;
#endif
