/*
 *  DHCP (sockets.h)
 *
 * Copyright (C) Element 14 Ltd. 1999
 *
 */
#ifndef dhcpsockets_h_included
#define dhcpsockets_h_included

#ifdef __cplusplus
extern "C" {
#endif

extern void sockets_init(void);
extern void sockets_ensure_init(void);
extern void sockets_discard(void);

extern int sockets_kill_interface(dhcp_interface *);
extern void sockets_trigger_internet_dhcp(const char *);

extern int sockets_data_arrived(int ns, void *);
extern void sockets_transmit(dhcp_interface *, int /*ioctl_flag*/);


/* This is a bitfield.  Bit meaning if set:
 *
 * bit 0:  Release frames if the Internet module claimed them
 * bit 1:  Don't transmit the supplied packet
 * bit 2:  Parse packet as if it were a BOOTP resonse
 *
 */
enum ioctl_flags_for_sockets_transmit_BITFIELD {
        st_RETAIN_FRAMES,
        st_RELEASE_FRAMES,
        st_DONT_TRANSMIT,
        st_NAK_AND_RELEASE, /* bitfield combination */
        st_ACK_RECEIVED,
        st_ACK_AND_RELEASE, /* probably don't want to use this ever! */
        st_ACK_RETAIN_NO_XMIT /* parse a BOOTP response to DHCP request */
};

#ifdef __cplusplus
}
#endif

#endif
