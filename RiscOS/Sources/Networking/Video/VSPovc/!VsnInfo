Version Info for VSPovc (Acorn Oracle Video Client)
===================================================
3.15
----
Added retries to the Medianet layer smnudpSend() function in an attempt to work
around the unreliable internet stack (something to do with Internet v5??).
Currently it will retry 5 times before giving up.

Fixed problem with getting host name from system (syspGetHostName() in YSlib).
This was returning FALSE - which is valid, if unfriendly/shoddy. Unfortunately,
MediaNet has a bug which means that it can't cope with null hostnames when
registering callbacks, so it blows up... :-(  Now fixed on our end.

Shaved off at least 80kB off overall module size by using library files instead
of object files!  Also tidied up the main make file so everything doesn't get
recompiled each time module is made.

Changed way that VSP_ReadNPT works so that stale NPTs can be detected.

3.14
----
Added (in fact, put back!  It _used_ to be there!) code to call mnIdle
periodically; this is needed to keep a low layer heartbeat going between client
and server.  Note: this is currently a QDF; the function prototypes should
really be pulled in from cmhg.h (and module_wsp from module.h).  Period set to
60 seconds.  CURRENTLY DISABLED COS IT DOESN'T WORK!

Can now force use of Medianet callbacks by defining the USE_MN_CALLBACKS macro.

Added calls to mzs::stream::finish and mzs::stream::dealloc during closestream,
to be polite.

3.13
----
Fixed bug in the setspeed state machine; 'rewind' was sending a default start
position which was invalid.

3.12
----
Changed way that video is requested.  If no offset requested, then video starts
from default position.  This starts real time feeds from the current recording
position.

3.11
----
Found bug in error checking which meant that any problem in creating a socket
resulted in a bogus value being used 'for real'.

Made module compatible with Internet 5.

3.10
----
Debugging for Elmsdale

3.09 (Elmsdale)
---------------
Found stray watchdog timer being set but never cleared.  Removed.

3.08 (Elmsdale)
---------------
Elmsdale-specific deliverable.

Regressed the module to use the original function to read position.  Lifted from
v3.04.

3.07
----
Fixed re-entry problem if a ticker callback goes off during a VSP_CloseStream.
(Fixed by SCormie, 6/10/98).

Changed the way the STB declares a session.  There was a chance of creating
identical names using the original method.  Now it appends the STB IP address to
the text 'STB' and uses that.

Fixed abort caused by ticker setting up callback during ovs_closestream and
then the callback going off and assuming that a stream was active when it had
just been closed down. Protection in callback handler added.

Fixed SWI handler so that it is more robust, and rejects unknown SWIs (rather
than trying to call badly referenced functions!).  Now based on switch statement
- performance change should be minimal.

3.06
----
Removed printfs reporting no NPT errors from MPEGControl_Stats.

Added stuff to cope with stale NPTs being reported from the MPEG module (decoded
from the MPEG stream).  It now ignores the MPEG NPT if it strays too far from
the STB internal estimate.  But inly when switching from 1x to trickplay -
trickplay streams carry NPT data after every I-frame, so provide extremely
accurate positioning information for use when switching to other modes.

Fixed bug in operation of playmode state machine.  Once paused, STB would only
exit pause to normal play.  But no GDF was being sent, so the data was being
dropped (using the mkd_Cur position means no GDF blocks are sent from the
server!).  Now, the way ovs_resume resumes from pause depends on the previous
mode; if it's going back to the same mode, it uses &mkd_Cur, otherwise it uses
the full estimated position.

NOTE: the playback mode state machine is totally shot away and unstructured.
Needs rewriting.

Fixed bug in timeout code - previously, it was generating phantom data timeouts
on long MPEG streams due to signed integer wraparound.

Current NPT is now also unsigned int.

v3.05
-----
Extensive rearranging of files so that all exported parameters are held in
<file>.h.  Now all globals are truly global, everything else is static.  Include
files are taken from the standard tree.  There are still a few areas/warnings to
clear up, though.

Changed way that module does trickplay - now it interrogates the MPEG module for
the NPT received at the STB rather than interrogating the server.

Modified cmhg file to use modern definitions instead of old-style veneers.

Module now uses automatically generated header file cmhg.h to make sure that
stuff is done right.


v3.04
-----
Various bug fixes.

Changed some parts to use proper makefiles instead of broken !Make files.

Upgraded LibIDL to new IDLs delivered on CD ROM OVS 3.0.3.0.  Now 3.03
compatible.

