/**************************************
 List.h
	
descibes standard list class.

© Acorn Computers Ltd

History:

Date      Who     Description of change
===========================================
31/7/98    AR      File created

**************************************/

#ifndef _List_H_
#define _List_H_

#include "Error.h"
#include "NECStruct.h"

#define ListDefaultSize 10
#define ListChangeSize	10

class List : public Error
{
  /* 
  This defines a dynamic list element that can increase its size if necessary
  by allocating more memory and copying the array over.  Similarly by decreasing
  the size if necessary.
  */
  protected: 	// private by inheritance
        int MaxSize;			// the size of allocated array
        int CurrentSize;		// the number of elements
        int current_guess;
        
 	void **object;			// pointers to generic objects;
 	int *identifiers;		// an array of unique identifiers
 	
 	int EnsureUnique(int);
 	int increasesize(void);
 	int decreasesize(void);
 	int CreateUniqueID(int *id);
 	int SwitchError(void);

  public:	// public methods for the access of the list
  	List(void);			// creates a list of default size
  	List(int size);			// creates a list of size
  	~List();			// deletes allocated memory
  	
  	int Size(void) { return CurrentSize; }
  	int Add(void *item);		// returns a boolean success value, a non zero identifier on success
  	int Add(void *item, int id);	// returns a boolean success value, defines a predefined identifier
  	void *identify(int identifier);	// returns a pointer to the object 

  	int Remove(int identifier);	// returns a boolean success value
};

#endif	//_List_H_
