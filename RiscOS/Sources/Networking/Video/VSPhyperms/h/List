/**************************************
 List.h
	
descibes standard list class.

© Acorn Computers Ltd

History:

Date      Who     Description of change
===========================================
31/7/98    AR      File created

**************************************/

#ifndef _List_H_
#define _List_H_

#include "Error.h"
#include "NECStruct.h"

#define ListDefaultSize 10
#define ListChangeSize	10

class List : public Error
{
  /* 
  This defines a dynamic list element that can increase its size if necessary
  by allocating more memory and copying the array over.  Similarly by decreasing
  the size if necessary.
  */
  protected: 	// private by inheritance
        int MaxSize;			// the size of allocated array
        int CurrentSize;		// the number of elements
        int current_guess;
        
 	void **object;			// pointers to generic objects;
 	int *identifiers;		// an array of unique identifiers
 	
 	error_flag EnsureUnique(int);
 	error_flag increasesize(void);
 	error_flag decreasesize(void);
 	error_flag CreateUniqueID(int *id);
 	error_flag SwitchError(void);

  public:	// public methods for the access of the list
  	List(void);			// creates a list of default size
  	List(int size);			// creates a list of size
  	~List();			// deletes allocated memory
  	
  	int Size(void) { return CurrentSize; }
  	error_flag Add(void *l_item, int *id);	// returns a boolean success value, a non zero identifier on success
  	error_flag identify(void **item, int identifier);	
  						// returns a pointer to the object in item 
  	error_flag Remove(int identifier);	// returns a boolean success value
};

#endif	//_List_H_
