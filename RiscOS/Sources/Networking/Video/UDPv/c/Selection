
/*    for (m = m0; m; m = m->m_next)
      {
        mlen = m->m_len;
        if (mlen == 0)
            continue;
        if (mlen > residue)
        {
            if (bs != 0)
                save_full_buf(bs, 0);
            if ((bs = get_empty_buffer()) == 0)
            {
                discards++;
                break;
            }
            residue = bs_bufsize;
            bptr = bs->bs_data;
            bs->bs_len = 0;
            bs->bs_handle = 0;
            bs->bs_flags = FREE_BUFFER_SWI;
        }
        memcpy(bptr, mtod(m, char *), mlen);
        bs->bs_len += mlen;
        bptr += mlen;
        residue -= mlen;
      }
      if (bs != 0)
      {
        rxsize = bs->bs_len;
        save_full_buf(bs, 0);
      }
      bs_bytes_sent += send_buffers();
      m0->m_len = 0;
*/
