     1   
     6  
     6  
     6  
     6  
     7  
    14  struct mbctl mbctl =
    15  {
    16      0,                               
    17      sizeof(struct mbctl),            
    18       (1 * 100 + 0) ,            
    19      0ul,                             
    20       (112) ,                       
    21       8192 ,                    
    22       (112) ,                       
    23      0ul,                             
    24       
    27  
    27  
    27  
    28  };
    29  
    30  _kernel_oserror *mb_entryinit(void)
    31  {
    32      _kernel_swi_regs r;
    33  
    34      r.r[0] = (int) &mbctl;
    35      return _kernel_swi(  (1U << 17)  |  ( 0x4a580  + 0) , &r, &r);
    36  }
    37  
    38   
    42  
    42  
    42  
    42  
    43  int mb_present(void)
    44  {
    45      _kernel_swi_regs r;
    46  
    47       
    50  
    50  
    50  
    51      r.r[0] = 0;
    52      return((_kernel_swi( (1U << 17)  |  ( 0x4a580  + 4) , &r, &r) == 0) ? 1 : 0);
    53  }
    54  
    55  _kernel_oserror *mb_closesession(void)
    56  {
    57      _kernel_swi_regs r;
    58  
    59      r.r[0] = (int) &mbctl;
    60      return _kernel_swi(  (1U << 17)  |  ( 0x4a580  + 1) , &r, &r);
    61  }
    62  
    63   
    64  
