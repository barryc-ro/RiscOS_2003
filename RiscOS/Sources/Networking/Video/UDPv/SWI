
                   CBFC module service interface
                   -----------------------------

The following set of SWIs constitute a service interface between the CBFC
module and an application controlling video playback.

MAC address format

A MAC address is a 6 byte quantity at this interface, represented in 
network-order (ie big-endian).


CBFC_StreamInit (SWI 0x83c0c) 

Notify CBFC that a new video stream is being opened.

    On entry:   R0 = flags    bit    meaning
                              0-31   reserved - must be set to 0
                R1 = pointer to IIS MAC address
                R2 = Session ID
                R3 = MPEG player handle

    On exit:    R0-R3 preserved

CBFC_StreamInit is called by the playback control application to notify
CBFC that a new stream has been opened via DSM-CC, and to pass session
parameters needed to manage the CBFC stream session.

On entry, R1 points to a buffer containing the MAC address of the IIS
delivering the stream, and R2 contains the Session ID for the stream.


CBFC_StreamStatus (SWI 0x83c10) 

Poll CBFC for current stream status.

    On entry:   R0-R2 undefined
                R3 = Local play mode
                         0   Normal
                    0x1000   Fast forward
                    0x2000   Fast rewind
                    0x3000   Pause

    On exit:    R0 = status
                         0   Stream is active
                         1   Stream is not active
                R1 undefined
                R2 = status qualifier
                         0   Idle
                       0x4   Normal termination
                      0x40   Abnormal termination - timeout
                      0x80   Abnormal termination - IIS cleared down
                     0x100   Abnormal termination - bad session id
                     0x200   Abnormal termination - high error rate
                R3 = IIS play mode
                         0   Normal
                    0x1000   Fast forward
                    0x2000   Fast rewind
                    0x3000   Pause

CBFC_StreamStatus is used by the playback control application to poll for
information about the current playback stream.

On entry, R3 indicates the current playback mode, as understood by the
playback control application. On exit, R3 returns the current playback mode
as understood by the IIS. If the two values are not the same, then
synchronisation may have been lost.

On exit, R0 indicates whether CBFC is currently handling an active stream.
If not, then the termination status of the last stream is returned in R2.
Once this information has been returned, the stream status is reset
to IDLE.

