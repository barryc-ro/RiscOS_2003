/**************************************************************/
/* File:    ModeInfo.c                                        */
/*          (C) 2000 Pace Micro Technology PLC                */
/*          All rights reserved                               */
/*                                                            */
/* Purpose: Screen mode related information retrieval.        */
/*                                                            */
/* Author:  A.D.Hodgkinson.                                   */
/*                                                            */
/* History: 21-Apr-2000 (ADH): Created.                       */
/**************************************************************/

#include "FromROSLib.h"

#include "ModeInfo.h"

/**************************************************************/
/* modeinfo_return_transparent_gcol()                         */
/*                                                            */
/* Return a transparent colour appropriate for passing to     */
/* ColourTrans_SetGCOL working on the assumption of a palette */
/* set according to Video Control defaults. Video Control is  */
/* described in 2501,817/FS with full palette details in      */
/* issue 3 or later.                                          */
/*                                                            */
/* Returns: Transparent GCOL value for ColourTrans_SetGCOL    */
/*          based on Video Control's default palette in the   */
/*          current mode's colour depth.                      */
/**************************************************************/

unsigned int modeinfo_return_transparent_gcol(void)
{
  int log2bpp = bbc_modevar(-1, BBC_Log2BPP);

  switch (log2bpp)
  {
    case 0: return 1;
    case 1: return 3;
    case 2: return 15;
    case 3: return 1;
    case 4: return 0x8000;
    case 5: return 0xF000000;
  }

  return 0;
}
