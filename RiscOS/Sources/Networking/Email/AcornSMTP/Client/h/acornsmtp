#if !defined(__acornsmtp_h)              /* Sentry, use file only if it's not already included. */
#define __acornsmtp_h
/*	Project Post (769) - AcornSMTP
	Acorn Risc Technologies
	Copyright © 1997. All Rights Reserved.

	FILE:		acornsmtp.h
	AUTHOR:		Richard D. Warren
	VERSION:	0.04 for RISC OS

	OVERVIEW
	========
	Header file defining various RiscOS system allocated values for module AcornSMTP
	For use by clients of AcornSMTP relocatable module

	HISTORY
	=======
	24/02/97	0.01	RDW	initial version
	25/02/97	0.02	RDW	C function prototypes for SWI wrappers added
	14/03/97	0.03	RDW	IDnum in AcornSMTP_return_data structs. changed to flags
	29/01/98	0.04	RDW	BOOL_DEFINED semaphore round BOOL def.
	19/05/98	0.05	RDW	Check for BOOL already defined added
*/

/* ************************************************************************** */
/*                                                                            */
/* New enumerated types                                                       */
/*                                                                            */
/* ************************************************************************** */
#ifndef BOOL_DEFINED
#define BOOL_DEFINED
#ifndef BOOL									// Check for toolbox BOOL defined
typedef enum { FALSE, TRUE } BOOL;	/* bit of boolean stuff */
#endif
#endif


/* ************************************************************************** */
/*                                                                            */
/* Constants                                                                  */
/*                                                                            */
/* ************************************************************************** */
#define ErrorBase_AcornSMTP		0x00810e00
#define AcornSMTP_SWIChunkBase		0x4e500

#define AcornSMTP_Register		0x4e500
#define AcornSMTP_DeRegister		0x4e501
#define AcornSMTP_ReleaseData		0x4e502
#define AcornSMTP_SendMail		0x4e503


/* ************************************************************************** */
/*                                                                            */
/* Typedefs                                                                   */
/*                                                                            */
/* ************************************************************************** */


/* ************************************************************************** */
/*                                                                            */
/* Typedefs - returned data structures                                        */
/*                                                                            */
/* ************************************************************************** */
typedef struct
{
  unsigned int		 flags;
  _kernel_oserror	*error;
  int			 errno;
} AcornSMTP_returned_data;

typedef struct
{
  unsigned int	         flags;
  _kernel_oserror	*error;
  int			 errno;
  char			*smtp_response;
} AcornSMTP_SendMail_data;


/* ************************************************************************** */
/*                                                                            */
/* Function Prototypes                                                        */
/*                                                                            */
/* ************************************************************************** */
_kernel_oserror *_AcornSMTP_Register(unsigned int *flags,
                                     void **pollword_addr);
_kernel_oserror *_AcornSMTP_DeRegister(unsigned int *flags,
				       void **pollword_addr);
_kernel_oserror *_AcornSMTP_ReleaseData(unsigned int *flags,
					void *pollword_addr,
					int swi_num,
					void *data);
_kernel_oserror *_AcornSMTP_SendMail(unsigned int *flags,
				       void *pollword_addr,
				       char *message,
				       char *recipient,
				       char *sender,
				       char *hostname,
				       int   port_num,
				       void **unique_id);
AcornSMTP_returned_data *_AcornSMTP_GetReturnedData(void *pollword_addr);


/* ************************************************************************** */
/*                                                                            */
/* Macros - done for functions which are too small an operation to            */
/*          justify the overhead of a function call.                          */
/*                                                                            */
/* ************************************************************************** */
#define _AcornSMTP_SendMailData(p)		(AcornSMTP_SendMail_data*)_AcornSMTP_GetReturnedData(p)

#endif  /* end of sentry #ifdef */
