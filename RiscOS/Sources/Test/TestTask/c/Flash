//Flash.c
#include <stdio.h>
#include "PeeknPoke.h"
#include "debug.h"
#include "stdlib.h"


//Flash is in podule slot 0
#define BASE 0x88000000

#define SIZE (1024*1024)/8

//32 bit flash checksum (size in K)
int flash_check32(char *data)
{
  int l;
  unsigned int sum=0;
  int size;

  size=atoi(data)*1024;


  for(l=0;l<size;l++)
  {
   sum+=peek_byte(BASE+l*4);
  }
  deprintf("32 bit checksum 0X%08X",sum);
  return sum;
}




