/*------------------------------------------------------------------------------*/
/*    Filename    : h.main	                                                */
/*    Author	  : A.Rodger						        */
/*    Date        : may 1999						        */
/*    Source      : c++.main						        */
/*    Description : this application is the base notifier object this takes     */
/*                message queue objects and displays them on screen             */
/*                                                                              */
/*    Modification history:      		       			        */
/*------------------------------------------------------------------------------*/

#ifndef __MAIN
#define __MAIN

	// standard libraries
#include "kernel.h"
#include "swis.h"
#include <stdlib.h>
#include <stddef.h>
#include <stdio.h>
#include <string.h>
#include <stdarg.h>

	// Global Definitions
#define IGNORE(a) (a=a)

// the maximum number of elements in a menu.
#define MAX_elements 8

typedef enum {
  key_select 	= 0x0D,
  key_up 	= 0x8F,
  key_down	= 0x8E,
  key_left	= 0x8C,
  key_right	= 0x8D
} key_values;

// see prm 1-850
#define select_key_button_number 73

_kernel_oserror* change_menu(void *menu);

// the following section is the dynamic function definitions
typedef 	char* 		(*string_fn_ptr)(char*);
typedef   _kernel_oserror* 	(*manage_fn_ptr)(void);

typedef struct{
  char*		token;
  string_fn_ptr function;
} string_fn_table;

typedef struct{
  char*		token;
  manage_fn_ptr function;
} manage_fn_table;

string_fn_ptr lookup_string_function(char *token, _kernel_oserror** err);
manage_fn_ptr lookup_management_function(char *token, _kernel_oserror** err);

// default string function
char *dummy(char* parameters);
// default management function
_kernel_oserror* terminate(void);

extern "C" {
char *clean_strtok(char *s1, const char *s2);
}

#endif
