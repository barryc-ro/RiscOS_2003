
ICA 3 Client for RISC OS
------------------------

This is an alpha release of the client. DO NOT DISTRIBUTE outside
Acorn or Xemplar. See bottom of file for copyright messages.

This client will connect to a WinFrame server using the ICA 3
protocol.

The following driver stack is implemented

  TCP/IP transport
  CRYPT1 encryption

The following virtual drivers are supported

  Thinwire 3.1

Note that the application name and the icons may change in future.


Platforms
---------

This client has been tested on 

 - StrongARM RiscPC running RISC OS 3.70 over modem and ethernet.
 - NC Model1 running RISC OS NC2 over ethernet.

It supports 16 and 256 colour mode therefore it should work on any
machine running RISC OS 3.1 or later.

The persistent cache is not implemented.


Connecting
----------

To connect to a server prepare an ICA file (example provided) and run
in one of the following two ways.

Method 1:

 - Load the client software by double-clicking on !WinFrame
 - Connect to a server by double-clicking on the ICA file
 - Return to the RISC OS desktop by pressing Shift F1 within Windows

 - Return to Windows desktop by clicking on the WinFrame icon
   OR
 - Quit the WinFrame from the iconbar menu.

Method 2:

 - Ensure the client has been booted
 - Double-click on the ICA file to load and run the client
 - Return to the RISC OS desktop by pressing Shift F1 within Windows
   The client will restore the Desktop and quit.

The advantage of method 2 is that it can easily be triggered from a
web page and it only loads the one toolbox module and so requires less
memory.



INI file
--------

The only INI file element that is worth changing currently is the
'WindowsCache' line in 'module.ini'. This specifies the size of the
client cache in 1K chunks. The default is 3072 which is suitable for a
RISC PC but probably too large for a NC. However the client will only
claim at most half the available memory for its cache.


Screen resolution
-----------------

The default in the applicaion INI file is to use the current screen
resolution. The ncnt.ica file overrides this with 640x480. Simply
comment out the HRES and VRES lines (insert semicolon at the start) to
use the current size or fill in other values as required. If the
requested mode cannot be selected then 640x480 will be used.


Launching from a web page
-------------------------

 1) Add the following line to the MimeMap file.

--------------- cut here ---------------------
application/x-ica   ICA   AD0   .ica
--------------- cut here ---------------------

 2) Configure the web server with the equivalent mapping (consult
appropriate documentation for details).

 3) If using Fresco then add the following line to !Fresco.runables

--------------- cut here ---------------------
AD0
--------------- cut here ---------------------

If the runables file doesn't exist then create it with just those 3
characters contained within.

 4) Ensure that !WinFrame is booted.

 5) If using NC2 ROMs then you must load WinFrame:KeyWatch *before*
NCFresco starts. Otherwise NCFresco's detection of handset presses may
go wrong.

 6) Save the ICA file created earlier on your web server with the
extension .ica (and file type text if working over Acorn NFS) and
place a link to it on a web page.

You should find then that following the link will automatically launch
the ICA client. Shift F1 should then take you back to the web page.

Note currently www.acorn.com supports the above mime mapping but
www.internal.acorn.com doesn't.

Known bugs
----------

 1) Some plotting modes are not supported. This tends to affect the
masking of small icons (eg menu ticks, the down arrow on popup list
boxes etc.)

**This is fixed in 0.07

 2) The background colour in Word is wrong.

**Fixed in 0.09

 3) If the server cuts the connection for any reason the RISC OS
screen mode is not restored.

**This is fixed in 0.07

 4) If you have to kill the software off with Alt-Break then you may
find the next time you go in the keys don't work. In which case you
must reboot.

 5) When you press the buttons on a the Windows Calculator the graphic
goes strange.

**Fixed in 0.08

 6) If you run the application, run the nc-nt file, switch back to the 
RISCOS desktop, choose disconnect from the menu and the run the nc-nt file
again then the palette will be wrong and possibly worse problems may
manifest.

**Fixed in 0.09

Copyright (c) 1990-1998, Citrix Systems Inc.
Copyright (c) 1998, Acorn Computers Ltd.

eof !Help
