<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>ICA-3 release history</title>
  </head>

  <body>
    <h1>ICA-3 release history</h1>

<H3>Version 0.29</H3>
<P>Date: 1998/06/10</p>
Now sets mouse bounds to the believed screen mode. This stops
the mouse wandering into the unsafe area on a TV. Tried to enable
screen modes > 1280x1024 but the citrix server doesn't seem to
like them.
Added support for Windows keys. They have special values (see
KeyWatch) which icaclient converts into fake ctrl-esc key presses.
Changed clientname generation algorithm so it can use the user name
off the smartcard. Added code to drop the line if client is launched
direct from a URL on the smartard on an NC.
Changed !Run files so that it detects being on a modem NC and enables
the autodialling feature which seemed to be lacking in previous build.

<H3>Version 0.28</H3>
<P>Date: 1998/06/02</p>
Changed Run file to place iconbar icon when run on a desktop machine.
Hotkey2 (Exit) now calls Wimp_ReportError to check you want to exit before
quitting the connection.
Added USA to country list. Fixed printer list to be correct for Boca NC.
Added hourglass around connect() call.
Fixed startup so that the connection dbox is shown even when starting application.

<H3>Version 0.27</H3>
<P>Date: 1998/05/20</p>
Added greying of menu for ICAMgr and Connect menu to main.c.
Simplified palette.c greatly and fixed loss of non-default palette that
occurred when switching in and out of session.
Boca spec up to issue B. Minor changes to main spec.

<H3>Version 0.26</H3>
<P>Date: 1998/05/15</p>
 Got the NRICA module working. Implements the server browser protocol.
Updated NR's with code to allow both of them to be compiled in like
the other driver modules (even though we only really need one at a time).
Fiddled a little with CDM.
Fixed the fact that you could switch out of a session that had no iconbar icon
and wasn't meant to be suspendable and then couldn't kill it. There are now
suitable safeguards to stop any really stupid situations being got into.

<H3>Version 0.25</H3>
<P>Date: 1998/05/12</p>
Finally fixed the vanishing bitmaps problem. The counter of sprites
that is used to give each sprite a unique name overflowed its buffer
when it reached 6 digits writing a null over the next local variable and
thus leaving all the created sprites with a width of -1.

<H3>Version 0.24</H3>
<P>Date: 1998/05/11</p>
 Check for errors in Receive() call. Now means that when a connection can't be
made to the server (eg all licenses in use) it returns an error rather than
sitting there forever.
Added the missing app/server.h file.
Corrected (Auto Detect) keybaord mapping checking.

<H3>Version 0.23</H3>
<P>Date: 1998/05/05</p>
Fixed AppName.s to be ICAClient rather than WinFrame so module gets right name.
Added TDASYNC files (no really this time). Minor changes to tdapi.c/pdapi.c to stop
them bombing if an unavailable transport is specified.
Added async defs to module.ini and wfclient.ini

<H3>Version 0.22</H3>
<P>Date: 1998/05/05</p>
Split Res file into two so can build desktop and nc2 variants. Makefile
uses new tool 'restool' to merge the bits back in.
Added PDFRAME, PDRELI, TDASYNC. They all build but don't link yet, Makefile
doesn't include them so the build is OK.
Discovered that only INI options that are in the master Module file get copied
from ICA/AppSrv files into memory. So added UseSafeArea=Off to Module.ini.
Minor changes to frontend so that NC2 style connect box works OK.
Fixes to NC2 dialling code and safearea detection.

<H3>Version 0.21</H3>
<P>Date: 1998/04/20</p>
Added iconbar menu for connections.
Split off code builder and started on moving more into assembler.
Stopped mouse movement being controlled from server.
Fiddled with LED controls - currently broken I think.

<H3>Version 0.20</H3>
<P>Date: 1998/04/09</p>
Added character definitions for DOS mode. Read keyborad layout. Convert printer name.
More exciting stuff in the frontend on startup to handle different phases and message
loops. Uses ScreenFade when changing mode. Various minor fixes.

<H3>Version 0.19</H3>
<P>Date: 1998/03/26</p>
Added GSTransing to URL arguments. Also allowed hostnames to be terminated with
query or slash. Updated !Help file a little.

<H3>Version 0.18</H3>
<P>Date: 1998/03/25</p>
Added ICAMgr resource dir.
Completed the ICA: URL scheme.
Added interrogation of !Printers to get printer type.
Fixed various problems in printer protocols to do with unitialised buffers,
unaligned structures etc.
Fixed some problems in the persistent cache code.

<H3>Version 0.17</H3>
<P>Date: 1998/03/23</p>
Changed name from WinFrame to ICAClient. Some work on getting the
disk cache to function.

<H3>Version 0.16</H3>
<P>Date: 1998/03/12</p>
Untested version. Safety check in.
CLI utility added to scramble passwords for putting in the .ica files
(make makepass).
Made mouse code pay attention to the MouseTimer config. Now doesn't swamp the
netwoork with mouse movements.
Brought the message control interface in line with the spec. Added Acorn URI
protocol support to ica: scheme.

<H3>Version 0.15</H3>
<P>Date: 1998/03/10</p>
Fixed some problems in code that only gets used when connecting to
WinFrame 1.7 servers. Usual problems - arrays of 10 byte structures
that are expected to be packed and code that 'knows' that it is
never going to be called twice so doesn't dynamically initialise stuff
it should.

<H3>Version 0.14</H3>
<P>Date: 1998/03/10</p>
Redid the !Run files to allow command line options to be configured externally.
Added cpm and spl virtual drivers - two versions of the printer spooling mechanism.
Not properly tested but client still works if ClientPrinter is enabled. Doesn't work if
ClientPrinter1.5 is enabled though.
Made Module list in session.c dependant on #defines set in the Makefile.
Split off exported defines into winframe.h which is exported to WinFrameRO and thence to
the Export directory.
Added a Message control interface to main.c. Not complete or tested.
Added a loop forever option (CLI) for Xemplar.
Added support for an ica: pseudo-URL scheme. ANT protocol only at the moment.

<H3>Version 0.13</H3>
<P>Date: 1998/02/27</p>
No code changes but new Splash screen and application sprite.

<H3>Version 0.12</H3>
<P>Date: 1998/02/26</p>
Fixed brush origin problem (forgot converting from pixels to OS units).
Fixed full screen text mode colours and cursor position. Mouse and character
definitions still a bit dodgy.
Fixed extended error return codes.
Fixed wrap around at the very bottom of the screen.

<H3>Version 0.11</H3>
<P>Date: 1998/02/23</p>
Fixed a variety of problems in the new Bitblt code. brush origins were
off all over the place and destination pre invert was wrong. Implemented
GetRgnBox. Changed copyrectangle() with a complex clipping region to just
enumerate rather than set clip (Windows only counts clipping on destination).
All these fixed dragging menus in Word and dragging a window that isn't on top
of everything. Fixed brush org bug in realize_brush() which fixed the Paintbrush
dithered colours problem.

<H3>Version 0.10</H3>
<P>Date: 1998/02/20</p>
Fixed PREQUIT code. Redid the custom bitblt loops. More code but less attempt at optimisation
eventually means that it all works.. probably.. It's in a better state to assemblerize if
necessary now anyway. Ensured that last set colours are uncached over a mode change so
switching in and out doesn't get the wrong colours.
Removed use of ProgInfo and DCS toolbox modules. Now just uses Window instead. Added code
for splash screen - placeholder graphic there currently.

<H3>Version 0.09</H3>
<P>Date: 1998/02/19</p>
Rejigged the BitBlt code to remove the use of (possibly) large temporary bitmaps when using
the screen as a source. Fixed some assertion failures in the palette code. Fully realize the
brushes before plotting (should give some speed improvements). Fixed the background colour bug
in MSWord (wasn't handling BLACKNESS/WHITENESS properly). Fixed connect/disconnect/connect sequence
Updated file type to allocated number. Added quit confirm dialogue box.

<H3>Version 0.08</H3>
<P>Date: 1998/02/17</p>
Added ROM build to Makefile and fixed up a couple of static init. problems.
New Run files for ROM and RAM build.
Added mode list generation code and support for RISC OS 3.1 mode selection.
Fixed 16 colour mode to work.
Some more fiddling with the BitBlt code to avuid excessive memory use when copying

<H3>Version 0.07</H3>
<P>Date: 1998/02/11</p>
Fixed running at different resolutions.
Fixed restoring screen mode when exiting after pushed by server.
Wrote code-generator for generic blitting. Seems to work...
Started compiling up driver mapping virtual driver. Not included in build yet.
Updated for KeyWatch protocol change (needs version 0.04).

<H3>Version 0.06</H3>
<P>Date: 1998/02/06</p>
First alpha release. Fixed problems with palettes, brushes. Added mouse
pointers and sorted out running and quitting problems.

<H3>Version 0.04</H3>
<P>Date: 1998/02/03</p>
Some changes to keyboard handling.

<H3>Version 0.03</H3>
<P>Date: 1998/01/30</p>
Fixed clipping (as long as its simple), and palettes (mostly) and text.
Fixed a few more dodgy alignmenet structures and made some progress
towards getting the save/restore screen code working.

<H3>Version 0.02</H3>
<P>Date: 1998/01/27</p>
Lots more work on Thinwire, resulting in being able to (just) see the
log on screen on the test server.

<H3>Version 0.01</H3>
<P>Date: 1998/01/19</p>
Added loads of new files (the thinwire, modem, script and ne drivers).
Discovered I was working around the non-ansi bitfield packing in totally
the wrong way. When fixed suddenly the screen starts doing things. Time to
check in.

<H3>Version 0.00</H3>
<P>Date: 1998/01/12</p>
Started

    <hr>
    <address><a href="mailto:smiddleton@acorn.com">Simon Middleton</a></address>
<!-- Created: Fri Jun 12 09:58:41 BST 1998 -->
<!-- hhmts start -->
Last modified: Fri Jun 12 14:03:15 BST 1998
<!-- hhmts end -->
  </body>
</html>
