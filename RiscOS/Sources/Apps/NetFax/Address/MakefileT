CC =		cc
LD = 		Link
ASM =	 	ObjAsm
CMHG =	 	CMHG
WIPE =		-wipe
RM =		remove

CFLAGS =	-c -depend !Depend -Itbox:,C: -ffah -throwback
CFLAGS_D =      -c -depend !Depend -Itbox:,C: -DDEBUGLIB -fah -strict -throwback
CPPFLAGS = 	-c -depend !Depend -IC: -throwback
LDFLAGS	= 	-aif -c++
ASMFLAGS =	-throwback -NoCache -depend !Depend
CMHGFLAGS = 	-depend !Depend -throwback -IC:
WIPEFLAGS =	~C~V

DEBUGLIB =	<Lib$Dir>.Debuglib.o.Debuglib
MSGLIB =	<Lib$Dir>.MsgLib.o.MsgLib
FLASHLIB_T =	<Lib$Dir>.Netfax.FlashLib.o.flashlib_t
FLASHLIB =	<Lib$Dir>.Netfax.FlashLib.o.flashlib
NUMCONVERTLIB = <Lib$Dir>.NumConvert.o.numconv

TARGET =        Targets.Test
TARGET_D = 	Targets.TestT

OBJECTS =       o.test o.misc o.strings o.flash o.miscwimp

OBJECTS_D = 	od.test od.misc od.strings od.flash od.miscwimp

LIBS =          C:o.stubs tbox:o.eventlib tbox:o.toolboxlib \
tbox:o.wimplib $(MSGLIB) $(FLASHLIB) $(NUMCONVERTLIB)

LIBS_D =  	C:o.stubs tbox:o.eventlib tbox:o.toolboxlib \
tbox:o.wimplib $(DEBUGLIB) $(MSGLIB) TCPIPLibs:o.socklib5 \
TCPIPLibs:o.unixlib TCPIPLibs:o.inetlib $(FLASHLIB_T) $(NUMCONVERTLIB)

.SUFFIXES:	.o .c .od

o.test: test.c
	$(CC) $(CFLAGS) -o test.o test.c
od.test: test.c
	$(CC) $(CFLAGS_D) -o od.test test.c

all: $(TARGET_D) $(TARGET)

normal: $(TARGET)

debug: $(TARGET_D)

clean:
	$(RM)	$(TARGET_D)
	$(RM)   $(TARGET)
	$(WIPE)	o.test $(WIPEFLAGS)
	$(WIPE)	od.test $(WIPEFLAGS)

$(TARGET): $(OBJECTS) $(LIBS)
	$(LD) $(LDFLAGS) -o $@ $(OBJECTS) $(LIBS)

$(TARGET_D): $(OBJECTS_D) $(LIBS_D)
	$(LD) $(LDFLAGS) -o $@ $(OBJECTS_D) $(LIBS_D)


# Dynamic dependencies:
