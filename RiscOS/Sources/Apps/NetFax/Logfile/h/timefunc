/************************************************************************/
/* File:    timefunc.h                                                  */
/* Purpose: Declares the functions used to grab the date and time for   */
/*          the log entries.                                            */
/* Author:  Hed Simons (mailto:hsimons@acorn.com)                       */
/* History: Fri 19th September 1997  ver 0.01 - Created.                */
/*          Mon 17th November  1997  ver 0.04 - Added null handle (HKS) */
/************************************************************************/

#ifndef __timefunc_h
#define __timefunc_h

/*----------------------------------------------------------------------*/

#include "include.h"

/*----------------------------------------------------------------------*/

void timefunc_log_debug(char *);

/*******************************************************************************
 * Name	       : decode_date_and_time                                          *
 * Parameters  : DecLogEntry *, EncLogEntry *                                  *
 * Description : Takes the encoded log entry and rips the first word (time_t)  *
 *	         which it decodes into a date and time format. It then         *
 *	         shoves this into the decoded log entry                        *
 * Returns     : Nothing                                                       *
 *******************************************************************************/
void decode_date_and_time(DecLogEntry *, EncLogEntry *);

/*******************************************************************************
 * Name        : time_null_handler                                             *
 * Parameters  : Standard toolbox event handler                                *
 * Description : Catches the NULL poll event and then uses it to check for     *
 *               several conditions. Will clear the log file if the time       *
 *               is correct. Will also send the 'HELLO' message to DaytSetup   *
 *               until it receives a response                                  *
 * Returns     : Nothing                                                       *
 *******************************************************************************/
int time_null_handler(int event_code, WimpPollBlock *event, IdBlock *id_block,
			void *handle);

#endif
