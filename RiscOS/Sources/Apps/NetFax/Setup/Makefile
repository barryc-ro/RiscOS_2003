CC =		cc
LD = 		Link
ASM =	 	ObjAsm
CMHG =	 	CMHG
WIPE =		-wipe
RM =		remove

CFLAGS =	-c -depend !Depend -IC: -DDEBUGLIB -ffah -throwback
CPPFLAGS = 	-c -depend !Depend -IC: -throwback
LDFLAGS	= 	-aif -c++
ASMFLAGS =	-throwback -NoCache -depend !Depend
CMHGFLAGS = 	-depend !Depend -throwback -IC:
WIPEFLAGS =	~C~V

TARGET = 	!RunImage

OBJECTS	= 	o.main o.runes o.messhandle o.fontsetup o.datetime o.load \
o.openwin o.save o.ui o.misc o.scheduler

LIBS = 		C:o.Stubs C:o.uilib C:o.eventlib C:o.toolboxlib C:o.wimplib  \
C:o.DebugLib C:o.MsgLib C:o.textgadget C:o.errorlib

.SUFFIXES:	.o .c
.c.o:;		$(CC) $(CFLAGS) -o $@ $<

all: $(TARGET) $(TARGETTEST)

clean:
	$(RM)	$(TARGET)
	$(WIPE)	o.* $(WIPEFLAGS)

$(TARGET): $(OBJECTS) $(LIBS)
	$(LD) $(LDFLAGS) -o $@ $(OBJECTS) $(LIBS)


# Dynamic dependencies:
o.main:	c.main
o.main:	h.main
o.main:	C:h.toolbox
o.main:	C:h.kernel
o.main:	C:h.wimp
o.main:	C:h.window
o.main:	C:h.gadgets
o.main:	C:h.menu
o.main:	C:h.event
o.main:	C:h.wimp
o.main:	C:h.wimplib
o.main:	C:h.gadgets
o.main:	C:h.iconbar
o.main:	C:h.kernel
o.main:	C:h.swis
o.main:	C:h.ErrorLib
o.main:	C:h.kernel
o.main:	C:h.swis
o.main:	C:h.wimp
o.main:	C:h.wimplib
o.main:	C:h.MsgLib
o.main:	C:h.UILib
o.main:	h.Windows
o.main:	h.structs
o.main:	C:h.DebugLib
o.main:	h.functions
o.main:	C:h.toolbox
o.main:	h.memhandle
o.main:	h.messhandle
o.main:	C:h.toolbox
o.main:	h.scheduler
o.main:	h.main
o.main:	h.misc
o.main:	C:h.proginfo
o.main:	h.load
o.main:	h.main
o.main:	h.functions
o.main:	C:h.swis
o.main:	C:h.kernel
o.main:	h.flashlib
o.main:	h.misc
o.main:	h.messhandle
o.runes:	c.runes
o.runes:	h.main
o.runes:	C:h.toolbox
o.runes:	C:h.kernel
o.runes:	C:h.wimp
o.runes:	C:h.window
o.runes:	C:h.gadgets
o.runes:	C:h.menu
o.runes:	C:h.event
o.runes:	C:h.wimp
o.runes:	C:h.wimplib
o.runes:	C:h.gadgets
o.runes:	C:h.iconbar
o.runes:	C:h.kernel
o.runes:	C:h.swis
o.runes:	C:h.ErrorLib
o.runes:	C:h.kernel
o.runes:	C:h.swis
o.runes:	C:h.wimp
o.runes:	C:h.wimplib
o.runes:	C:h.MsgLib
o.runes:	C:h.UILib
o.runes:	h.Windows
o.runes:	h.structs
o.runes:	C:h.DebugLib
o.runes:	h.functions
o.runes:	C:h.toolbox
o.runes:	h.datetime
o.runes:	h.main
o.runes:	h.functions
o.runes:	h.flashlib
o.runes:	C:h.time
o.runes:	h.misc
o.runes:	C:h.swis
o.runes:	C:h.kernel
o.runes:	h.scheduler
o.runes:	h.main
o.runes:	h.misc
o.runes:	h.messhandle
o.runes:	C:h.toolbox
o.runes:	h.ui
o.runes:	h.main
o.runes:	h.functions
o.runes:	C:h.kernel
o.runes:	h.misc
o.runes:	h.scheduler
o.runes:	h.main
o.runes:	h.misc
o.runes:	h.load
o.runes:	h.main
o.runes:	h.functions
o.runes:	C:h.swis
o.runes:	C:h.kernel
o.runes:	h.flashlib
o.runes:	h.misc
o.runes:	h.messhandle
o.runes:	h.save
o.runes:	h.main
o.runes:	h.functions
o.runes:	h.flashlib
o.runes:	h.messhandle
o.runes:	h.misc
o.messhandle:	c.messhandle
o.messhandle:	h.messhandle
o.messhandle:	C:h.toolbox
o.messhandle:	C:h.kernel
o.messhandle:	C:h.wimp
o.messhandle:	h.scheduler
o.messhandle:	h.main
o.messhandle:	C:h.toolbox
o.messhandle:	C:h.window
o.messhandle:	C:h.gadgets
o.messhandle:	C:h.menu
o.messhandle:	C:h.event
o.messhandle:	C:h.wimp
o.messhandle:	C:h.wimplib
o.messhandle:	C:h.gadgets
o.messhandle:	C:h.iconbar
o.messhandle:	C:h.kernel
o.messhandle:	C:h.swis
o.messhandle:	C:h.ErrorLib
o.messhandle:	C:h.kernel
o.messhandle:	C:h.swis
o.messhandle:	C:h.wimp
o.messhandle:	C:h.wimplib
o.messhandle:	C:h.MsgLib
o.messhandle:	C:h.UILib
o.messhandle:	h.Windows
o.messhandle:	h.structs
o.messhandle:	C:h.DebugLib
o.messhandle:	h.misc
o.messhandle:	h.main
o.fontsetup:	c.fontsetup
o.fontsetup:	h.main
o.fontsetup:	C:h.toolbox
o.fontsetup:	C:h.kernel
o.fontsetup:	C:h.wimp
o.fontsetup:	C:h.window
o.fontsetup:	C:h.gadgets
o.fontsetup:	C:h.menu
o.fontsetup:	C:h.event
o.fontsetup:	C:h.wimp
o.fontsetup:	C:h.wimplib
o.fontsetup:	C:h.gadgets
o.fontsetup:	C:h.iconbar
o.fontsetup:	C:h.kernel
o.fontsetup:	C:h.swis
o.fontsetup:	C:h.ErrorLib
o.fontsetup:	C:h.kernel
o.fontsetup:	C:h.swis
o.fontsetup:	C:h.wimp
o.fontsetup:	C:h.wimplib
o.fontsetup:	C:h.MsgLib
o.fontsetup:	C:h.UILib
o.fontsetup:	h.Windows
o.fontsetup:	h.structs
o.fontsetup:	C:h.DebugLib
o.fontsetup:	h.functions
o.fontsetup:	C:h.toolbox
o.datetime:	c.datetime
o.datetime:	h.main
o.datetime:	C:h.toolbox
o.datetime:	C:h.kernel
o.datetime:	C:h.wimp
o.datetime:	C:h.window
o.datetime:	C:h.gadgets
o.datetime:	C:h.menu
o.datetime:	C:h.event
o.datetime:	C:h.wimp
o.datetime:	C:h.wimplib
o.datetime:	C:h.gadgets
o.datetime:	C:h.iconbar
o.datetime:	C:h.kernel
o.datetime:	C:h.swis
o.datetime:	C:h.ErrorLib
o.datetime:	C:h.kernel
o.datetime:	C:h.swis
o.datetime:	C:h.wimp
o.datetime:	C:h.wimplib
o.datetime:	C:h.MsgLib
o.datetime:	C:h.UILib
o.datetime:	h.Windows
o.datetime:	h.structs
o.datetime:	C:h.DebugLib
o.datetime:	h.functions
o.datetime:	C:h.toolbox
o.datetime:	h.flashlib
o.datetime:	C:h.time
o.datetime:	h.misc
o.datetime:	C:h.swis
o.datetime:	C:h.kernel
o.datetime:	h.datetime
o.datetime:	h.main
o.datetime:	h.functions
o.datetime:	h.flashlib
o.datetime:	C:h.time
o.datetime:	h.misc
o.datetime:	C:h.swis
o.datetime:	C:h.kernel
o.load:	c.load
o.load:	h.main
o.load:	C:h.toolbox
o.load:	C:h.kernel
o.load:	C:h.wimp
o.load:	C:h.window
o.load:	C:h.gadgets
o.load:	C:h.menu
o.load:	C:h.event
o.load:	C:h.wimp
o.load:	C:h.wimplib
o.load:	C:h.gadgets
o.load:	C:h.iconbar
o.load:	C:h.kernel
o.load:	C:h.swis
o.load:	C:h.ErrorLib
o.load:	C:h.kernel
o.load:	C:h.swis
o.load:	C:h.wimp
o.load:	C:h.wimplib
o.load:	C:h.MsgLib
o.load:	C:h.UILib
o.load:	h.Windows
o.load:	h.structs
o.load:	C:h.DebugLib
o.load:	h.functions
o.load:	C:h.toolbox
o.load:	C:h.swis
o.load:	C:h.kernel
o.load:	h.flashlib
o.load:	h.misc
o.load:	h.messhandle
o.load:	C:h.toolbox
o.load:	h.scheduler
o.load:	h.main
o.load:	h.misc
o.load:	h.ui
o.load:	h.main
o.load:	h.functions
o.load:	C:h.kernel
o.load:	h.misc
o.load:	h.scheduler
o.load:	h.main
o.load:	h.misc
o.load:	h.load
o.load:	h.main
o.load:	h.functions
o.load:	C:h.swis
o.load:	C:h.kernel
o.load:	h.flashlib
o.load:	h.misc
o.load:	h.messhandle
o.openwin:	c.openwin
o.openwin:	h.main
o.openwin:	C:h.toolbox
o.openwin:	C:h.kernel
o.openwin:	C:h.wimp
o.openwin:	C:h.window
o.openwin:	C:h.gadgets
o.openwin:	C:h.menu
o.openwin:	C:h.event
o.openwin:	C:h.wimp
o.openwin:	C:h.wimplib
o.openwin:	C:h.gadgets
o.openwin:	C:h.iconbar
o.openwin:	C:h.kernel
o.openwin:	C:h.swis
o.openwin:	C:h.ErrorLib
o.openwin:	C:h.kernel
o.openwin:	C:h.swis
o.openwin:	C:h.wimp
o.openwin:	C:h.wimplib
o.openwin:	C:h.MsgLib
o.openwin:	C:h.UILib
o.openwin:	h.Windows
o.openwin:	h.structs
o.openwin:	C:h.DebugLib
o.openwin:	h.functions
o.openwin:	C:h.toolbox
o.openwin:	h.openwin
o.openwin:	h.main
o.openwin:	h.functions
o.save:	c.save
o.save:	h.main
o.save:	C:h.toolbox
o.save:	C:h.kernel
o.save:	C:h.wimp
o.save:	C:h.window
o.save:	C:h.gadgets
o.save:	C:h.menu
o.save:	C:h.event
o.save:	C:h.wimp
o.save:	C:h.wimplib
o.save:	C:h.gadgets
o.save:	C:h.iconbar
o.save:	C:h.kernel
o.save:	C:h.swis
o.save:	C:h.ErrorLib
o.save:	C:h.kernel
o.save:	C:h.swis
o.save:	C:h.wimp
o.save:	C:h.wimplib
o.save:	C:h.MsgLib
o.save:	C:h.UILib
o.save:	h.Windows
o.save:	h.structs
o.save:	C:h.DebugLib
o.save:	h.functions
o.save:	C:h.toolbox
o.save:	h.flashlib
o.save:	h.messhandle
o.save:	C:h.toolbox
o.save:	h.misc
o.save:	h.scheduler
o.save:	h.main
o.save:	h.misc
o.save:	h.ui
o.save:	h.main
o.save:	h.functions
o.save:	C:h.kernel
o.save:	h.misc
o.save:	h.scheduler
o.save:	h.main
o.save:	h.misc
o.save:	h.save
o.save:	h.main
o.save:	h.functions
o.save:	h.flashlib
o.save:	h.messhandle
o.save:	h.misc
o.ui:	c.ui
o.ui:	h.main
o.ui:	C:h.toolbox
o.ui:	C:h.kernel
o.ui:	C:h.wimp
o.ui:	C:h.window
o.ui:	C:h.gadgets
o.ui:	C:h.menu
o.ui:	C:h.event
o.ui:	C:h.wimp
o.ui:	C:h.wimplib
o.ui:	C:h.gadgets
o.ui:	C:h.iconbar
o.ui:	C:h.kernel
o.ui:	C:h.swis
o.ui:	C:h.ErrorLib
o.ui:	C:h.kernel
o.ui:	C:h.swis
o.ui:	C:h.wimp
o.ui:	C:h.wimplib
o.ui:	C:h.MsgLib
o.ui:	C:h.UILib
o.ui:	h.Windows
o.ui:	h.structs
o.ui:	C:h.DebugLib
o.ui:	h.ui
o.ui:	h.main
o.ui:	h.functions
o.ui:	C:h.toolbox
o.ui:	C:h.kernel
o.ui:	h.misc
o.ui:	h.scheduler
o.ui:	h.main
o.ui:	h.misc
o.ui:	h.functions
o.ui:	C:h.kernel
o.ui:	h.misc
o.ui:	h.scheduler
o.ui:	h.main
o.ui:	h.misc
o.misc:	c.misc
o.misc:	h.main
o.misc:	C:h.toolbox
o.misc:	C:h.kernel
o.misc:	C:h.wimp
o.misc:	C:h.window
o.misc:	C:h.gadgets
o.misc:	C:h.menu
o.misc:	C:h.event
o.misc:	C:h.wimp
o.misc:	C:h.wimplib
o.misc:	C:h.gadgets
o.misc:	C:h.iconbar
o.misc:	C:h.kernel
o.misc:	C:h.swis
o.misc:	C:h.ErrorLib
o.misc:	C:h.kernel
o.misc:	C:h.swis
o.misc:	C:h.wimp
o.misc:	C:h.wimplib
o.misc:	C:h.MsgLib
o.misc:	C:h.UILib
o.misc:	h.Windows
o.misc:	h.structs
o.misc:	C:h.DebugLib
o.misc:	h.misc
o.scheduler:	c.scheduler
o.scheduler:	h.main
o.scheduler:	C:h.toolbox
o.scheduler:	C:h.kernel
o.scheduler:	C:h.wimp
o.scheduler:	C:h.window
o.scheduler:	C:h.gadgets
o.scheduler:	C:h.menu
o.scheduler:	C:h.event
o.scheduler:	C:h.wimp
o.scheduler:	C:h.wimplib
o.scheduler:	C:h.gadgets
o.scheduler:	C:h.iconbar
o.scheduler:	C:h.kernel
o.scheduler:	C:h.swis
o.scheduler:	C:h.ErrorLib
o.scheduler:	C:h.kernel
o.scheduler:	C:h.swis
o.scheduler:	C:h.wimp
o.scheduler:	C:h.wimplib
o.scheduler:	C:h.MsgLib
o.scheduler:	C:h.UILib
o.scheduler:	h.Windows
o.scheduler:	h.structs
o.scheduler:	C:h.DebugLib
o.scheduler:	h.misc
o.scheduler:	h.scheduler
o.scheduler:	h.main
o.scheduler:	h.misc
