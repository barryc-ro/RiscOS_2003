*******************************************************************************
Components:	!Fax
		FaxSupport
Types:		RISC OS WIMP application, written in C
		RISC OS module, written in C
Purpose:	Fax server (slave application for Daytona)
Owner:		Mark RISON
Project:	Daytona
*******************************************************************************

===============================================================================
Version:	0.15
Date:		1998-05-12
Name:		Mark RISON
CVS tag:	mrison_fax-0_15

Changed to the NSF codes allocated by the DTI's representative,
Alan PUGH (tel. +44 118  9210909): country code 0xb4, country subcode
0x00, manufacturer code 0xb6, where the convention used is that the bits
are transmitted starting with the least significant bit of the octets
as given.  Note this means prior versions of !Fax will not detect or
be detected by this version of !Fax.

Added export of RCcodes.h and global.h.

PAN-00754
PAN-00667
Tweaked transit timings a bit more (lengthen pre-T.4 silence by 10 ms).

PAN-01364
Changed the page chop overflow tolerance to 3%.

PAN-01686
Allowed DCS to be followed by DIS when transmitting when the DCS was
caused by RTP, RTN or EOMthenMCF, such that the receiver's capabilities
are allowed to change during a transmission.

PAN-01686
Allowed clients such as !Daytona to request a halving of the datarate,
when receiving, where possible; this allows clients to try to stem
an incoming datarate they can't cope with because e.g. the outgoing
datarate is lower.


===============================================================================
Version:	0.16
Date:		1998-06-02
Name:		Mark RISON
CVS tag:	mrison_fax-0_16

Modified the datarate halving mechanism so that datarate halving
requests are only honoured once, at the end of each received page.
Thus if a client such as !Daytona requests a datarate halving
three times while the first page is being received, this will no
longer cause the datarate to be dropped from 14400 bps (say) all
the way to 2400 bps (14000 halved = 7200, halved = 4800, halved
= 2400) but to be dropped to 7200 bps.  A subsequent request while
page 2 is being received would cause the datarate to be reduced to
4800 bps for page 3.

PAN-02047
Implemented a tasteless hack to get around a failure by the Rockwell
modem chip to correctly implement key aborts, which manifested
itself as severely extended T1 timeout intervals.


===============================================================================
Version:	0.17
Date:		1998-07-22
Name:		Mark RISON
CVS tag:	mrison_fax-0_17

The `last page successfully received' counter is now only incremented
when the TIFF file corresponding to a page has been closed (rather than
when it has been opened).  This ensures clients can always rely on
a `successfully received' page to be immediately available, and also
means clients don't first get told a page is successfully received only
to be subsequently told it wasn't (if e.g. a TIFF write error occurred).

If a scan line too long error occurs, it is now verified whether a write
error occurred while the received page was being written to file.  If
so, the file is deleted and not marked as `successfully received';
the return code is Error_TIFF_Write_Error (rather than
Error_Scan_Line_Too_Long).

If an abort is requested by the client during page reception, it
is now verified whether a write error occurred while the received
page was being written to file.  If so, the file is deleted and not
marked as `successfully received'; the return code is still
Error_Aborted.

PAN-02100
Increased the silence between reception of CFR and transmission of
T.4 by 20 ms so that the pre-T.4 silence always satisfies T.30's
requirements despite the Rockwell modem chip's huge timing fluctuations.

PAN-02147
Zero-length fax pages received are now quietly dumped so that they
don't cause errors on subsequent transmission.


===============================================================================
