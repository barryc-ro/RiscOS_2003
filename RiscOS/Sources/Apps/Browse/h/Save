/***************************************************/
/* File   : Save.h                                 */
/*                                                 */
/* Purpose: Save functions for the browser.        */
/*                                                 */
/* Author : A.D.Hodgkinson                         */
/*                                                 */
/* History: 04-Dec-96: Created.                    */
/*                                                 */
/*          25-Aug-97: Definitions imported from   */
/*                     TBEvents.h.                 */
/*                                                 */
/*          05-Sep-97: Filetype definitions split  */
/*                     to Filetypes.h to stop so   */
/*                     many files recompiling if   */
/*                     this header changes.        */
/***************************************************/

/* This is too obscure to expect others to remember it! */

#include "EventLogs.h"

/* Miscellaneous definitions */

#define Save_ScrapVar  "Wimp$Scrap"
#define Save_ScrapFile "<" Save_ScrapVar ">"
#define Save_ScrapDir  "<" Save_ScrapVar "Dir>"
#define Save_ScrapPath "<" Save_ScrapVar "Dir>."

/* Function prototypes */

void              save_record_path           (const char * path);
const char      * save_return_last_path      (void);

_kernel_oserror * save_save_source           (char * path, browser_data * b);
_kernel_oserror * save_transfer_source       (browser_data * b, int * transferred, WimpMessage * m);
int               save_source_size           (browser_data * b);

_kernel_oserror * save_save_object           (char * path, browser_data * b);
int               save_object_size           (browser_data * b);

_kernel_oserror * save_save_uri              (char * path, char * url, char * title, int write_url);
_kernel_oserror * save_transfer_uri          (char * url, char * title, int write_url, int * transferred, WimpMessage * m);
int               save_uri_size              (char * url, char * title, int write_url);

_kernel_oserror * save_save_log              (char * path, const eventlogs_log * log, int selection);
_kernel_oserror * save_transfer_log          (const eventlogs_log * log, int selection, int * transferred, WimpMessage * m);
int               save_log_size              (const eventlogs_log * log, int selection);

char            * save_build_messages_path   (int which);
_kernel_oserror * save_save_choices          (char * path);
