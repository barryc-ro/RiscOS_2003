/*-*-C-*-
 *
 * Generates version string for Info box
 *
 */

#include "resed.h"

#include "version.h"


/*
 * Returns version string for Info box.
 *
 * The makefile for the shell (and for each CSE) is designed so that this
 *  source file is explicitly recompiled and linked whenever a new run image
 *  is created; this file is *not* part of the commonlib object itself.
 *
 */

char * version_string (void)
{
    char *vrsn = "d.dd (dd-mmm-dd)";
    char *date = __DATE__;               /* "mmm dd 19dd" */

    memcpy(vrsn, VERSION_NUMBER, 4);
    memcpy(vrsn+6, date+4, 2);
    if (vrsn[6] == ' ') vrsn[6] = '0';   /* 6th is " 6" */
    memcpy(vrsn+9, date, 3);
    memcpy(vrsn+13, date+9, 2);

    return vrsn;
}
