; Title:   s.scevent
; Purpose: Smartcard event catcher
;

        AREA    |SCEvent$$Data|,DATA,READONLY

	EXPORT	scevent_code_base
	EXPORT	scevent_code_limit
	IMPORT	|SCEvent$$Code$$Base|
	IMPORT	|SCEvent$$Code$$Limit|
scevent_code_base	DCD	|SCEvent$$Code$$Base|
scevent_code_limit	DCD	|SCEvent$$Code$$Limit|

        AREA    |SCEvent$$Code|,CODE,READONLY,PIC
	GET	hdr:ListOpts
	GET	hdr:Macros
	GET	hdr:System

SCEvent_handler
	TEQ	r0, #Event_Expansion
	TEQEQ	r1, #Event_Expansion_SmartCard
	STMEQIA	r12, {r2-r4}
	MOVS	pc, lr

	END
