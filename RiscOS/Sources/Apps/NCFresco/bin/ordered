#!/bin/sh
#
#Execute a specific set of plotcheck commands. These are added as
#features are implemented. Thus, running this file after some new
#changes have been made performs some degree of regression testing,
#with a very specific order of testing.

PLOTCHECK="nice plotcheck/plotcheck"
BOOM="-boom"
#BOOM=""
#PRINT="-print -internals"
PRINT=""

CMD="$PLOTCHECK $BOOM $PRINT"

doit()
{
  echo
  echo $CMD
  $CMD $*
  if [ $? -ne 0 ]
  then
    echo "FAILURE CASE"
    exit 1
  fi
}

echo "TESTING"

doit html/format/breaks*.html
doit html/format/format*.html
doit html/format/images*.html
doit html/format/float*.html
doit html/format/misc*.html

doit tabtests/easy*.html
doit tabtests/abs*.html
doit tabtests/width*.html
doit tabtests/pcent*.html
doit tabtests/pcp*.html
doit tabtests/colspan*.html
doit tabtests/share*.html
doit tabtests/unexp*.html
doit tabtests/rowspan*.html
doit tabtests/rowcol*.html
doit tabtests/nest?.html
doit tabtests/nest??.html
doit tabtests/grid*.html
doit tabtests/caption*.html
doit tabtests/size*.html
doit tabtests/fedge*.html
doit tabtests/misc*.html
doit tabtests/8*.html

doit tabtests/boom?.html
doit tabtests/boom??.html
doit html/visual/*.html

# 1000 series are auto-generated vicious examples. Don't
# run unless feeling masochistic!
doit tabtests/boom????.html

# Going to fail until sorted out, so here so can test possible successes in the interim
doit tabtests/missing*.html

#doit tabtests/nest????.html

echo "DONE"

# eof

