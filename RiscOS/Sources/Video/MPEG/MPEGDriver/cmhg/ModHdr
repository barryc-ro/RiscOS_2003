; 		ModHdr.cmhg
; Project:	STB-400
; Component:	MPEGDriver
; This file:	CMHG file
; 
; History:
; Date		Who	Change
; --------------------------------------------------------------------------
; 09/09/1999	BJGA	Created
; 09/11/1999	BJGA	Added *Read3520 and *Write3520
; 26/01/2000	BJGA	Split video and audio IRQ handlers
; 07/04/2000	BJGA	Added internal-reset callback handler


#include "Global/RISCOS.h"
#include "Global/Services.h"
#include "Global/SWIs.h"
#include "VersionNum"


initialisation-code:	Module_Init

finalisation-code:	Module_Final

service-call-handler:	Module_Service	Service_PreReset,
					Service_MPEGControlStarting

title-string:		MPEGDriver

help-string:		MPEGDriver Module_MajorVersion_CMHG Module_MinorVersion_CMHG

date-string:		Module_Date_CMHG

command-keyword-table:	Module_Commands	VideoInfo(,
						international:,
						invalid-syntax:	"SMPDVDI",
						help-text:	"HMPDVDI",
					),
					Read3520(,
						min-args:	2,
						max-args:	2,
						international:,
						invalid-syntax:	"SMPDR35",
						help-text:	"HMPDR35",
					),
					Write3520(,
						min-args:	3,
						max-args:	3,
						international:,
						invalid-syntax:	"SMPDW35",
						help-text:	"HMPDW35",
					)

swi-chunk-base-number:	MPEGVideoSWI_Base

swi-handler-code:	Module_SWI

swi-decoding-table:	MPEGVideo	OpenStream,
					FullPackets,
					CloseStream,
					Play,
					SetSpeed,
					CardControl,
					SetSCR,
					ReadParameters,
					ResetStream,
					DisplayStill,
					Stats,
					RegisterHandler,
					DeregisterHandler,
					SetVideoParameters

international-help-file:"Resources:$.Resources.MPEGDriver.Messages"

generic-veneers:	video_stuffing_callback/Module_VideoStuffingCallback,
			video_reset_callback/Module_VideoResetCallback,
			sti3520l_video_irq_handler/Module_STi3520LVideoIRQHandler,
			sti3520l_audio_irq_handler/Module_STi3520LAudioIRQHandler,
			program_element_handler/Module_ProgramElementHandler,
			audio_stuffing_callback/Module_AudioStuffingCallback

vector-handlers:	tickerv_handler/Module_TickerVHandler
