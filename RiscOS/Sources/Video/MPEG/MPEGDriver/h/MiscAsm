/******	MiscAsm.h **********************************************************

Project:	STB-400
Component:	MPEGDriver
This file:	Miscellaneous assembler routines

Copyright 1999 Pace Micro Technology plc. All rights reserved.

This material is the confidential trade secret and proprietary information
of Pace Micro Technology plc. It may not be reproduced, used, sold, or
transferred to any third party without the prior written consent of
Pace Micro Technology plc.

History:
Date		Who	Change
----------------------------------------------------------------------------
28/10/1999	BJGA	Created
23/11/1999	BJGA	Added MiscAsm_UserModeWait()
07/12/1999	BJGA	Added MiscAsm_Stuff()

***************************************************************************/

#ifndef __miscasm_h
#define __miscasm_h

/* Includes */

#include "Types.h"

/* Public functions */

/******	MiscAsm_Stuff() ****************************************************

Purpose:	Copies a contiguous block of non-word-aligned memory into
		the 32-, 16- and 8-bit wide compressed MPEG data ports, as
		efficiently as possible
In:		Address of 32-bit port, start and length of memory block
Notes:		16- and 8-bit ports are assumed to be offset 0x100 and 0x200
		from 32-bit port

***************************************************************************/

extern void MiscAsm_Stuff (void *write32, void *start, unsigned int length);

/******	MiscAsm_FreePacket() ***********************************************

Purpose:	Calls the free routine associated with a given bitstream packet
In:		Pointer to packet to free
Out:		Contents of packet's |link| field
Notes:		Makes no attempt to correct other packets if it was in a list

***************************************************************************/

extern bitstream_packet_t *MiscAsm_FreePacket (bitstream_packet_t *packet);

/******	MiscAsm_UserModeWait() *********************************************

Purpose:	Enters and exits user mode (to allow callbacks to go off)
		until a terminating condition is true
In:		Pointer to indicator word: when 0, then exit

***************************************************************************/

extern void MiscAsm_UserModeWait (void *pointer);

#endif
