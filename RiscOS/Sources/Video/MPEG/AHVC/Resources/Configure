|=================================================================================
|
| Acorn HYPERMS Video Client for NEC HYPERMS video server
|
| Configuration file
|=================================================================================

|=================================================================================
| 1. Set the type of your TVs
|
|    either
|           set TV$Type PAL
|    or
|           set TV$Type NTSC
|=================================================================================

Set TV$Type "NTSC"

|=================================================================================
| 2. Set NEC HYPERMS parameters.
|=================================================================================
| A. Set the default NEC HYPERMS server IP address.
|=================================================================================

Set VSPhyperms$DefaultServer 136.170.33.72

|=================================================================================
| B. Set the default NEC HYPERMS server control port.
|=================================================================================

Set VSPhyperms$VideoPort 10000

|=================================================================================
| C. Set the maximum number of 0.5s video blocks that can be buffered.
|=================================================================================

Set VSPhyperms$NecBlocks 10

|=================================================================================
| D. Set the number of 0.5s blocks to wait for before playing the video stream.
|=================================================================================

Set VSPhyperms$BufferBlocks 4

|=================================================================================
| 3. Set MPEG downstream transport type, and parameters.
|
|    either
|           set MPEG$DTType UDP_IP
|    or
|           set MPEG$DTType ATM_AAL5
|
| Note: For NEC HYPERMS this must be UDP_IP.
|
|=================================================================================

set MPEG$DTType "UDP_IP"

|=================================================================================
| 4. If the connected network is ATM, set any PVCs to IP destinations additional
|    to the STB's boot server, if required.
|
| The format is
|               atm25pvc <dest_ip_address> 33 <pvc_number>
|
| Example, to establish a PVC to transport bidirectional IP traffic to 
| host 28.1.1.3 :
|
| atm25pvc 28.1.1.3 33 99
|
| Note: The assumption behind this mechanism is that the ATM network 
|       infrastructure is configured so that the same PVC numbers are
|       used for bidirectional IP traffic to the same remote IP destination 
|       at each STB/ATM switch interface, with uniqueness obtained via individual 
|       Port/VC pairings. For example, the Port/VC pairings for two STBs connected 
|       to Ports A and B on the same switch might be:
|       
|       Port=A,PVC=99    bidirectional IP between STB1 and 28.1.1.3
|       port=B,PVC=99    bidirectional IP between STB2 and 28.1.1.3
|=================================================================================

|atm25pvc 28.1.1.3 33 99

|=================================================================================
| 5. Set a netmask, if required, and the netmask has NOT already been
|    established via BOOTP or static boot configuration.
|    ethernet interface is eh0     atm25 interface is ap0
|=================================================================================

|ifconfig -e eh0 netmask 0xffffff00

|=================================================================================
| 6. Set any additional STB IP routes here, if required.
|
|    For example, if the stbs are connected to net 28, and you wish to
|    establish a route for the STB to net 29 via the interface 28.1.1.2 on a gateway:
|
|    route -e add net 29 28.1.1.2 1
| 
|    Alternatively, you can send all traffic destined for all other nets to a default 
|    gateway thus:
|  
|    route -e add net default 28.1.1.1 1
|
|    Note: the default gateway may also be established via BOOTP or static boot
|          configuration.
|=================================================================================

|route -e add net default 136.170.32.1 1

|=================================================================================
| 7. Set Real Time Clock in the STB, if required.
|=================================================================================
| A. Set the address of a Unix time server
|    Uncomment the line below if you want to synchronise the STB internal real
|    time clock to the time on the unix server. 
|    
|    Note: If the time on the STB is not correct then you may find that some of
|          the web browser features which rely on the time, e.g. cookies, do
|          not work correctly.
|---------------------------------------------------------------------------------

|Set STB$TimeServer "136.170.135.1"

|---------------------------------------------------------------------------------
| B. Set your local time offset from UTC
|      Syntax: Set STB$TimeZone [+|-]hours[:minutes]
|    The time offset must be in the range -13:45 TO +13:45 and must be an exact
|    multiple of 15 minutes
|---------------------------------------------------------------------------------

|Set STB$TimeZone "+0:0"

|---------------------------------------------------------------------------------
| C. Configure whether daylight saving is on or off
|      Syntax: Configure DST | NoDST
|---------------------------------------------------------------------------------

|Configure DST

|=================================================================================
| 8. Configure the WWW Browser
|
|    The following variables may be uncommented and/or edited in order to integrate
|    the STB into a real Internet/Intranet environment. It should not be necessary
|    to change the configuration below in a "simple" demo system.
|=================================================================================
| A. Change the location of the Welcome and Home Pages for the STB
|    (the Welcome page is the optional first loaded on boot-up and reset)
|
|    Example of a remote home page
|
|      Set NCFresco$Home -url http://28.1.1.17/WebPages/home.htm
|---------------------------------------------------------------------------------

|Set NCFresco$Welcome -url http://www.acorn.co.uk/
|Set NCFresco$Home -url http://www.internal.acorn.com/~arodger/VideoPage/video.htm
Set NCFresco$Home -url file:/Root:SysEnv/VideoPage/video.htm

|---------------------------------------------------------------------------------
| B. Change the location of the help web pages used by NCFresco when the user
|    presses the help key

Set NCFresco$Help "file:/Root:Content/WebPages/help/home.htm"

|---------------------------------------------------------------------------------
| C. Uncomment and set the IP address to be that of your DNS resolver, if you
|    are connecting to a real Internet/Intranet
|---------------------------------------------------------------------------------

|Set Inet$resolvers "136.170.32.1"

|---------------------------------------------------------------------------------
| D. Uncomment and set the domain name to your domain,  if you
|    are connecting to a real Internet/Intranet       
|---------------------------------------------------------------------------------

|Set Inet$LocalDomain "eng.acorn.co.uk"

|---------------------------------------------------------------------------------
| E. Uncomment and enable access to a proxy WWW server, if required on a real
|    Internet or Intranet
|
|    NOTE Uncomment this line ONLY if you want the STB to access a proxy server
|---------------------------------------------------------------------------------

|Set NCFresco$ConfigProxyHTTPEnable  "Yes"

|---------------------------------------------------------------------------------
| F. Uncomment and set the proxy server address and port, ONLY if proxy is 
|    enabled, above
|---------------------------------------------------------------------------------

|Set NCFresco$ConfigProxyHTTP  "28.1.1.17:80"

|---------------------------------------------------------------------------------
| G. Avoid use of proxy on these domains
|
|    NOTE: Uncomment and edit this line ONLY if proxy is enabled, as above.
|---------------------------------------------------------------------------------

|Set NCFresco$ConfigProxyHTTPIgnore  "28.1.1.17 28.10.1.1"

|=================================================================================
|
| This line fixes a bug in NCFresco's user agent string
|
|---------------------------------------------------------------------------------

SetMacro NCFresco$ConfigHeaderUseragent1 'Mozilla/2.0NC-1 Acorn <STB$MACAddress> (compatible; %s;ANTFresco/%s; %.*s)'


|=================================================================================
| 9. Uncomment this line if you do not want the boot progress monitor bar.
|
|=================================================================================

|SetEval Boot$ProgressMonitor 0

|=================================================================================
|10. Uncomment for debug output if the STB is failing to boot at all!
|
|    NOTE: This will cause status messages and information boxes to appear on the
|          TV screen, so that the precise point of failure can be identified. When
|          information boxes start to appear you will be prompted for input to move
|          to the next stage. Respond either by pressing <select> on the IR handset,
|          or pressing <return> if a keyboard is attached.
|=================================================================================

|Set Debug$State "Boot"

|=================================================================================
|                   End Of STB Configuration File
|=================================================================================
