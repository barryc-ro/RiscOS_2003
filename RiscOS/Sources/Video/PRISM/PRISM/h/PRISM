/**************************************************************/
/* File:    PRISM.h                                           */
/*          (C) 2000 Pace Micro Technology PLC                */
/*          All rights reserved                               */
/*                                                            */
/* Purpose: PRISM exportable API.                             */
/*                                                            */
/* Author:  A.D.Hodgkinson.                                   */
/*                                                            */
/* History: 26-Feb-2001 (ADH): Created.                       */
/*          21-Jun-2001 (ADH): Filled out to make a working,  */
/*                             useful header.                 */
/**************************************************************/

#ifndef PRISM_PRISM__
  #define PRISM_PRISM__

  /* Service calls */

  #define Service_PRISM_Core          (0xD3)
  #define PRISMModuleStarted          (0)
  #define PRISMModuleDying            (1)
  #define PRISMSessionAborting        (2)
  #define PRISMCleanShutdown          (100)
  #define PRISMAbortiveShutdown       (101)

  #define Service_PRISM_Client        (0xD5)
  #define PRISMSessionAborted         (0)

  /* Error numbers. There are two error blocks, */
  /* at 819800 and 819E00. The first &40 of the */
  /* first block are PRISM private for &20 and  */
  /* PRISM public for &20; then the rest are    */
  /* allocated module by module.                */

  #define PRISM_ERROR1_BASE           (0x819800)
  #define PRISM_ERROR2_BASE           (0x819E00)
  #define PRISM_PRIVATE_OFFSET        (0)
  #define PRISM_PUBLIC_OFFSET         (0x20)

  #define PFC_BUFFER_OFFSET           0x000040 /* 0x819840 to */
  #define PFC_BUFFER_SIZE             0x00001f /* 0x81985f    */
  #define PFC_CLOCK_OFFSET            0x000060 /* 0x819860 to */
  #define PFC_CLOCK_SIZE              0x00001f /* 0x81987f    */
  #define PFC_AUDIO_MIXER_OFFSET      0x000080 /* 0x819880 to */
  #define PFC_AUDIO_MIXER_SIZE        0x00001f /* 0x81989f    */
  #define PFC_VIDEO_MIXER_OFFSET      0x0000a0 /* 0x8198a0 to */
  #define PFC_VIDEO_MIXER_SIZE        0x00001f /* 0x8198bf    */

  #define PTL_STREAM_OFFSET           0x0000c0 /* 0x8198c0 to */
  #define PTL_STREAL_SIZE             0x00001f /* 0x8198df    */

  enum
  {
    /* These may be raised by any PRISM component */

    prism_ERROR_MEMORY_EXHAUSTED      = PRISM_ERROR1_BASE + PRISM_PUBLIC_OFFSET,
    prism_ERROR_IN_PROGRESS,
    prism_ERROR_SERVICE_UNAVAILABLE,
    prism_ERROR_COMPONENT_ALREADY_PRESENT,
    prism_ERROR_CLIENT_ID_NOT_KNOWN,
    prism_ERROR_PRISM_ID_NOT_KNOWN,
    prism_ERROR_INVALID_PARAMETERS
  };

  /* Generally useful items */

  #define PRISM_NoSuchSWI             (0x1E6)

  /* PRISM class identifiers for PRISM IDs */

  #define PRISM_Class_PFC             (0x01000000)
  #define PRISM_Class_SI              (0x02000000)
  #define PRISM_Class_PTL             (0x03000000)

  /* The PRISM module is the one component to follow a non-standard */
  /* name for brevity. It is in fact a PTL class module.            */

  #define PRISM_Parent_PRISM          (0x001000)
  #define PRISM_PRISMID               (PRISM_Class_PFC | PRISM_Parent_PRISM)

#endif /* PRISM_PRISM__ */

/* In the exported copy of this file, SWI numbers will follow. */

