/**************************************************************/
/* File:    Components.h                                      */
/*          (C) 2000 Pace Micro Technology PLC                */
/*          All rights reserved                               */
/*                                                            */
/* Purpose: Manage component lists.                           */
/*                                                            */
/* Author:  A.D.Hodgkinson.                                   */
/*                                                            */
/* History: 21-Jun-2001 (ADH): Created.                       */
/**************************************************************/

#ifndef PRISM_Components__
  #define PRISM_Components__

  #include <kernel.h>

  /* Hold details of components (services) */

  typedef struct component
  {
    struct component  * next;
    struct component  * prev;

    unsigned int        prism_id;       /* PRISM ID of the component       */
    unsigned int        version;        /* Version number of the component */
    unsigned int        swi_base;       /* Component's SWI base            */
    unsigned int        flags;          /* Flags for that protocol module  */
    char                info[50];       /* Short information string        */

  } component;

  /* Link lists of components together */

  typedef struct components
  {
    struct components * next;
    struct components * prev;

    component         * item;
  }
  components;

  /* Function prototypes */

  _kernel_oserror * components_print_list           (void);

  _kernel_oserror * components_component_register   (_kernel_swi_regs * r);
  _kernel_oserror * components_component_deregister (_kernel_swi_regs * r);

  void              components_shutdown             (void);

#endif /* PRISM_Components__ */
