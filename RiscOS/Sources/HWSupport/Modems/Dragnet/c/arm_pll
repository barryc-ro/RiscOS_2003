/*name and version number:@(#)arm_pll.c	1.1*/
/*date of get: 		  01/12/01 11:49:19*/
/*date of delta:	  01/12/01 11:25:00*/

/*******************************************************************************
 * Copyright (c) 2000 Vitana Corporation.
 * Copyright (c) 2000 Lucent Technologies Inc.
 * 
 ******************************************************************************/
 

/******************************************************************************
 *
 * File:     $RCSfile$
 *
 * Description: This file contains code to configure the Lucent Trident ARM 
 *              chip's clocks.
 *
 *
 * Revision: $Revision$
 * Date:     $Date$
 * Author:   $Author$
 *
 */

#include "llglob_d.h"
#include "arm_glob.h"
#include "allglobs.h"

/**********************************************************************
 *
 * Name: InitPLL
 *
 * Description: This function initializes the Trident chip's clocks.
 *              Note: If the CPU clocks are changed, then the UART has 
 *                    to be reconfigured accordingly.
 *
 * Arguments: N/A
 *
 * Returns: N/A
 *
 */ 
void InitPLL (void)
{
	RPCM_Ptr->RPCM_CLOCK_CONTROL	= RPCM_CLOCK_CONTROL_CKOEN |
									  RPCM_CLOCK_CONTROL_MS;
									  // cko enabled to drq/cko pin, manual mode





	RPCM_Ptr->RPCM_PLL_CONTROL		= RPCM_PLL_CONTROL_M_4 |
									  RPCM_PLL_CONTROL_N_1 |
									  RPCM_PLL_CONTROL_LF_4 |
									  RPCM_PLL_CONTROL_FR_2;
									  // set PLL freq

	RPCM_Ptr->RPCM_CLOCK_CONTROL	= RPCM_CLOCK_CONTROL_CKOEN |
									  RPCM_CLOCK_CONTROL_MS |
									  RPCM_CLOCK_CONTROL_PLLE;    // cko enabled to drq/cko pin, manual mode, pll enabled

	RPCM_Ptr->RPCM_CLOCK_MANG 		= RPCM_CLOCK_MANG_PLCC;    // switch to PLL clock
}

