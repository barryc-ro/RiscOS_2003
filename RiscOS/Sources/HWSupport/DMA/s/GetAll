; > Sources.GetAll

;---------------------------------------------------------------------------
; DMA manager module.
;---------------------------------------------------------------------------

        AREA    |DMA$$Code|, CODE, READONLY, PIC

Module_BaseAddr

;---------------------------------------------------------------------------
;       Get the headers.
;
        GET     Hdr:ListOpts
        GET     Hdr:Macros
        GET     Hdr:System
        GET     Hdr:ModHand
	GET	Hdr:Machine.<Machine>
	$GetIO
        GET     Hdr:Services
        GET     Hdr:MsgTrans
        GET     Hdr:ResourceFS
        GET     Hdr:DevNos
        GET     Hdr:Proc
        GET     Hdr:FSNumbers
        GET     Hdr:NewErrors
        GET     Hdr:HostFS
        GET     Hdr:NdrDebug
        GET     Hdr:DDVMacros

        GET     VersionASM

;---------------------------------------------------------------------------
;       Define global variables.
;
                GBLL    hostvdu

debug           SETL    false
hostvdu         SETL    false
mod             SETD    false
dma             SETD    false
unsf            SETD    false
safe            SETD    false
swi             SETD    false
int             SETD    false
tab             SETD    false
term            SETD    false
purge           SETD    false
tmp             SETD    false

                GBLL    WriteBackCache
WriteBackCache  SETL    true            ; Needed for StrongARM, and unless we add
                                        ; some way to set pages as write-though
                                        ; cacheable, for ARM9 and XScale too.
                                        ; Not needed for ARM7.

  [ :LNOT: :DEF: standalone
                GBLL    standalone
standalone      SETL    false
  ]

                GBLL    international
international   SETL    true

;---------------------------------------------------------------------------
;       Get the sources.
;
                GBLS    GetResFiles
 [ standalone
GetResFiles     SETS    "GET    s.ResFiles"
 |
GetResFiles     SETS    ""
 ]


      [ HAL
        GET     s.CallHAL
      ]
        GET     s.Front
        GET     s.Macros
        GET     s.Errors
        GET     s.ModHead
        $GetResFiles
        GET     s.SWI
        GET     s.DMA
        GET     s.Tail

        END
