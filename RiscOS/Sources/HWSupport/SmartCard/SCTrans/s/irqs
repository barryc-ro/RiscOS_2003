;
; 		Copyright 1996 Acorn Network Computing
;
;  This material is the confidential trade secret and proprietary
;  information of Acorn Network Computing. It may not be reproduced,
;  used, sold, or transferred to any third party without the prior
;  written consent of Acorn Network Computing. All rights reserved.
;
;
; ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;
;  irqs.s
;
        GET     Hdr:ListOpts
        GET     Hdr:Macros
        GET     Hdr:System
        GET     Hdr:ModHand

; Explicit imports/exports.
;
        IMPORT  |_Lib$Reloc$Off$DP|

        EXPORT  irqs_off
        EXPORT  irqs_on

        AREA    |veneer$$code|,REL,CODE,READONLY

irqs_off
        MOV     r0, #I_bit
        TST     r0, pc
        TEQEQP  r0, pc			; irqs are enabled
        MOVNE   r0, #0			; irqs are disabled
        MOV     pc, lr

irqs_on
        TEQP    r0, pc
        MOV     r0, r0
        MOV     pc, lr

; ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

	END
