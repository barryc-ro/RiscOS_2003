/* ncma_uid.c - handle NC ID for managed access */
#include <stdio.h>
#include <string.h>
#include "smcard.h"
#include "ncma_ROM.h"
#define PROTOTYPES_INTERNAL
#include "ncma_uid.h"
#include "DBUG.h"

int init_unique_id(void)
{
    /* copy unique box serial number into serial number field of machine id */
    return(0);
}

int render_hex_id(char *b)
{
    int i;

    sprintf(b, "%02X.%02X.%08X.%08X.%08X.%08X.",
    	       unique_id.serial_version,
    	       unique_id.serial_type,
    	       unique_id.manufacture_ID,
    	       unique_id.model,
    	       unique_id.BIOS_version,
    	       unique_id.ncos_version);

    for(i=0;i<unique_id.serial_len;i++)
        sprintf(b+strlen(b), "%02X", unique_id.serial_info[i]);

    return(0);
}
