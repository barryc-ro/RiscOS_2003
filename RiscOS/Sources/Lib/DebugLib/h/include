
/************************************************************************/
/* File:    include.h                                                   */
/* Purpose: Gneral header file for DebugLib. Holds type definitions etc.*/
/************************************************************************/

#ifndef __include_h
#define __include_h

/* -------------------------------------- LIBRARY IMPORTS --------------------------------------- */
/* ANSI Libraries */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

/* CLib 5 Libraries */
#include "kernel.h"
#include "swis.h"

/* Include the exported header */
#define DEBUGLIB
#include "DebugLib.h"

#ifndef BOOL_DEFINED
#define BOOL_DEFINED
#ifndef BOOL
#define BOOL int
#define TRUE 1
#define FALSE 0
#endif
#endif

/* Turn on the PDebug code */
#ifndef PDebug_DEBUG
#define PDebug_DEBUG 1
#endif

/* Turn on the RemoteDB code */
#ifndef REMOTE_DEBUG
#define REMOTE_DEBUG 1
#endif

/* Turn on the trace code */
#ifndef Trace_TRACE
#define Trace_TRACE  1
#endif

/* Types */

typedef struct debug_options
{
  char *taskname;
  char *filename;
  debug_device device;
  debug_device trace_device;
  BOOL taskname_prefix;
  BOOL area_level_prefix;
  BOOL stamp_debug;
  BOOL screen_cornering;
  BOOL unbuffered_files;
  BOOL serial_lf;
  int serial_port_speed;
  int serial_port_number;
  size_t dump_width;
}debug_options;

#define IGNORE(a) a=a

#ifdef DEBUG
  #define internal_dprintf(a) _dprintf a
#else
  #define internal_dprintf(a)
#endif

/* size of internal debug buffer */
#define Debug_Buffer_Size 1024

/* Default Serial Port Behaviour */
#define SerialPort_DefaultPort	1
#define SerialPort_DefaultSpeed	57600

/* Default ddumpbuf width */
#define DumpWidth_DefaultWidth 16u

/* UNUSED Macro */
#define DEBUGLIB_UNUSED(x)	(void) (x)

#endif

/* -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ END +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ */
