#include "encpriv.h"

#include "koi8r.h"
#include "apple.h"

/*
 * Routines for encoding Macintosh (Mac Roman)
 * Number: 2027
 * Names: macintosh
 *        csMacintosh
 */

static UCS2 *mac_roman_table;

static int mac_roman_reset(Encoding *e, int for_encoding)
{
    EightBit_Encoding *ee = (EightBit_Encoding *) e;

    if (!mac_roman_table)
        mac_roman_table = encoding_load_map_file("Apple.MacRoman");

    ee->table = mac_roman_table;

    return ee->table != NULL;
}

EncodingPriv enc_mac_roman =
{
    eightbit_read,
    mac_roman_reset,
    sizeof(EightBit_Encoding) - sizeof(EncodingPriv),
    eightbit_delete,
    0,
    eightbit_write
};

