/* header file for dynalloc.c  */

#include <stdbool.h>

/* Begin-Prologue */
#ifndef TEMPLATE_H
#undef DECLARE
#ifdef PROTOTYPES_INTERNAL
#define DECLARE
#define INIT(x) =(x)
#else
#define DECLARE extern
#define INIT(x)
#endif
/* End-Prologue */

#ifndef MAX_RMA_MALLOX
  #define MAX_RMA_MALLOX 320
#endif
#ifndef OS_DynamicArea
  #define OS_DynamicArea 0x00000066
#endif

DECLARE void init_dma(void);
DECLARE unsigned char *get_dma(int, char *, unsigned int);
DECLARE void free_dma(unsigned int);

DECLARE void init_rma(void);
DECLARE unsigned char *get_rma(int, unsigned int);
DECLARE void free_rma(unsigned int);

DECLARE void rminit(void);
DECLARE unsigned char *rmalloc(int, char *);
DECLARE void rmfree(unsigned char *);
DECLARE void rmfree_all(void);
DECLARE void rmstat(void);

typedef struct
{
  int area_number;
  unsigned char *area_start;
  unsigned int size;
  bool stored_in_rma;
} rmalloc_data_block;


/* Begin-Epilogue */
#undef PROTOTYPES_INTERNAL
#undef INIT
#undef DECLARE
#endif
/* End_Epilogue */

