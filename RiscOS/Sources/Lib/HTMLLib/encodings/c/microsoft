#include "encoding.h"

#include "koi8r.h"
#include "microsoft.h"

/*
 * Routines for encoding Windows-1250 ("Latin-2")
 * Number: 2250
 * Names: Windows-1250
 */

static UCS2 *cp1250_table;

static void cp1250_reset(Encoding *e)
{
    EightBit_Encoding *ee = (EightBit_Encoding *) e;

    if (!cp1250_table)
        cp1250_table = encoding_load_map_file("Microsoft.CP1250");

    ee->table = cp1250_table;
}

Encoding enc_cp1250 =
{
    eightbit_read,
    cp1250_reset,
    sizeof(EightBit_Encoding) - sizeof(Encoding),
    eightbit_delete
};

/*
 * Routines for encoding Windows-1252 ("Latin-1")
 * Number: 2252
 * Names: Windows-1252
 */

static UCS2 *cp1252_table;

static void cp1252_reset(Encoding *e)
{
    EightBit_Encoding *ee = (EightBit_Encoding *) e;

    if (!cp1252_table)
        cp1252_table = encoding_load_map_file("Microsoft.CP1252");

    ee->table = cp1252_table;
}

Encoding enc_cp1252 =
{
    eightbit_read,
    cp1252_reset,
    sizeof(EightBit_Encoding) - sizeof(Encoding),
    eightbit_delete
};

