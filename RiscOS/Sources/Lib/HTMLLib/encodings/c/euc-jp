#include <stdlib.h>

#include "encoding.h"

#include "iso2022.h"
#include "euc-jp.h"

/*
 * Routines for encoding EUC-JP
 * Number: 18
 * Names: EUC-JP
 *        csEUCPkdFmtJapanese
 *        Extended_UNIX_Code_Packed_Format_for_Japanese
 */

static void euc_jp_reset(Encoding *e)
{
    iso2022_reset(e);
    /*
     * Select G0 = JIS X 0201 Roman      (ESC ( J)
     *        G1 = JIS X 0208            (ESC $ ) B)
     *        G2 = JIS X 0201 Katakana   (ESC * I)
     *        G3 = JIS X 0212            (ESC $ + D)
     *        C1 = ISO 6429              (ESC " C)
     * Single shift range = GR           (ESC SP \)
     */
    iso2022_read(e, NULL,     "\x1B\x28\x4A"
                          "\x1B\x24\x29\x42"
                              "\x1B\x2A\x49"
                          "\x1B\x24\x2B\x44"
                              "\x1B\x22\x43"
                              "\x1B\x20\x5C", 20, NULL);
}

Encoding enc_euc_jp =
{
    iso2022_read,
    euc_jp_reset,
    iso2022_ws_size,
    iso2022_delete
};
