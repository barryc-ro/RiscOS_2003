#include "logger.h"
#include <stdio.h>
#include "error.h"
#include "bool.h"
#include "stdlib.h"

FILE *t_LogFile;
char t_LogMsg[256];
BOOL t_NoText;

void t_InitLog(char *filename)
{
  t_LogFile=fopen(filename,"w");
  if(t_LogFile==NULL)  error("Could not open logfile\n");
}
void t_ContLog(char *filename)
{
  t_LogFile=fopen(filename,"a");
  if(t_LogFile==NULL)  error("Could not open logfile\n");
}

void t_LogOut(char *msg)
{
  int e;
  e=fputs(msg,t_LogFile);
  if(e==EOF) error("Error writing to logfile\n");
  if(!t_NoText)
  {
    e=fputs(msg,stdout);
    if(e==EOF) error("Error writing to stdout\n");
  }
}
void t_ShutLog(void)
{
  fclose(t_LogFile);
}
