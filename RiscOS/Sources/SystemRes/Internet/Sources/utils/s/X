	AREA	|ObjAsm$$Code|,CODE,READONLY

XOS_CLI		*	&20005
XOS_ReadVarVal	*	&20023
XOS_SetVarVal	*	&20024

	ENTRY
X
	MOV	R0, R1
	SWI	XOS_CLI
	MOVVC	PC, R14
	ADD	R11, R0, #4
	ADR	R0, XError
	MOV	R1, R12
	MVN	R2, #0
	MOV	R3, #0
	MOV	R4, #0
	SWI	XOS_ReadVarVal
	TEQ	R2, #0
	CMNNE	R2, #1
	MOVNE	PC, R14
	MOV	R0, R11
	MOV	R1, R0
XLoop
	LDRB	R2, [R0], #1
	TEQ	R2, #0
	BNE	XLoop
	SUB	R2, R0, R1
	ADR	R0, XError
	MOV	R3, #0
	MOV	R4, #0
	SWI	XOS_SetVarVal
	MOV	PC, R14
XError
	= "X$Error", 0
XVersionInfo
	= "X 1.01 (09 Mar 2000) © Pace Micro Technology plc, 2000", 0

	END
