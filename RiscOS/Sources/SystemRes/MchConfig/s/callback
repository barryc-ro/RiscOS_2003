; generated by Norcroft RISC OS ARM C vsn 5.00d (Acorn Computers Ltd) <alpha test> [Aug 18 1994]

        AREA |C$$code|, CODE, READONLY
|x$codeseg|

        DCB     &46,&75,&6e,&63
        DCB     &74,&69,&6f,&6e
        DCB     &5f,&4e,&61,&6d
        DCB     &65,&00,&00,&00
        DCD     &ff000010

        IMPORT  __rt_stkovf_split_small
        IMPORT  riscos_strncpy
        IMPORT  _sprintf
Function_Name
        MOV      ip,sp
        STMDB    sp!,{a1,v1,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        SUB      a2,a1,#4
        LDRB     a3,[a2,#3]
        LDR      v1,[pc, #L000054-.-8]
        TEQ      a3,#&ff
        BNE      |L000058.J4.Function_Name|
        LDRB     a1,[a2,#0]
        SUB      a2,a2,a1
        MOV      a1,v1
        MOV      a3,#&50
        BL       riscos_strncpy
        B        |L000068.J6.Function_Name|
L000054
        DCD     |x$dataseg|
|L000058.J4.Function_Name|
        MOV      a3,a1
        MOV      a1,v1
        ADD      a2,pc,#L000070-.-8
        BL       _sprintf
|L000068.J6.Function_Name|
        MOV      a1,v1
        LDMDB    fp,{v1,fp,sp,pc}^
L000070
        DCB     &28,&75,&6e,&6e
        DCB     &61,&6d,&65,&64
        DCB     &20,&61,&74,&20
        DCB     &30,&78,&25,&58
        DCB     &29,&00,&00,&00

        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&6e,&65,&77
        DCB     &00,&00,&00,&00
        DCD     &ff000010

        IMPORT  trace_f
        IMPORT  m_alloc
        IMPORT  riscos_error_lookup
        EXPORT  callback_new
callback_new
        MOV      ip,sp
        STMDB    sp!,{a1,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v2,#0
        ADD      a3,pc,#L0000f0-.-8
        ADD      a1,pc,#L000100-.-8
        MOV      a2,#&59
        BL       trace_f
        ADD      a1,pc,#L000100-.-8
        MOV      a3,#4
        MOV      a2,#&5a
        BL       m_alloc
        TEQ      a1,#0
        BNE      |L000124.J4.callback_new|
        ADD      a2,pc,#L00011c-.-8
        MOV      a1,#&31
        BL       riscos_error_lookup
        MOV      v2,a1
        B        |L000134.J6.callback_new|
L0000f0
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&6e,&65,&77
        DCB     &0a,&00,&00,&00
L000100
        DCB     &3c,&53,&75,&70
        DCB     &70,&6f,&72,&74
        DCB     &24,&44,&69,&72
        DCB     &3e,&2e,&63,&2e
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &00,&00,&00,&00
L00011c
        DCB     &4e,&6f,&4d,&65
        DCB     &6d,&00,&00,&00
|L000124.J4.callback_new|
        MOV      a2,#0
        TEQ      v1,#0
        STR      a2,[a1,#0]
        STRNE    a1,[v1,#0]
|L000134.J6.callback_new|
        MOV      a1,v2
        LDMDB    fp,{v1,v2,fp,sp,pc}^

        DCB     &44,&65,&6c,&65
        DCB     &74,&65,&5f,&46
        DCB     &75,&6e,&63,&74
        DCB     &69,&6f,&6e,&00
        DCD     &ff000010

        IMPORT  m_free
Delete_Function
        MOV      ip,sp
        STMDB    sp!,{a1,v1,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOVS     v1,a1
        LDMEQDB  fp,{v1,fp,sp,pc}^
        LDR      a1,[v1,#8]
        BL       Delete_Function
        MOV      a3,v1
        SUB      a1,pc,#.+8-L000100
        MOV      a4,#&c
        MOV      a2,#&70
        LDMDB    fp,{v1,fp,sp,lr}
        B        m_free

        DCB     &44,&65,&6c,&65
        DCB     &74,&65,&5f,&45
        DCB     &6e,&74,&72,&79
        DCB     &00,&00,&00,&00
        DCD     &ff000010

        ;MPORT  Delete_Level
Delete_Entry
        MOV      ip,sp
        STMDB    sp!,{a1,v1,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOVS     v1,a1
        LDMEQDB  fp,{v1,fp,sp,pc}^
        LDR      a1,[v1,#4]
        BL       Delete_Level
        LDR      a1,[v1,#8]
        BL       Delete_Entry
        MOV      a3,v1
        SUB      a1,pc,#.+8-L000100
        MOV      a4,#&c
        MOV      a2,#&7f
        LDMDB    fp,{v1,fp,sp,lr}
        B        m_free

        DCB     &44,&65,&6c,&65
        DCB     &74,&65,&5f,&4c
        DCB     &65,&76,&65,&6c
        DCB     &00,&00,&00,&00
        DCD     &ff000010

Delete_Level
        MOV      ip,sp
        STMDB    sp!,{a1,v1,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOVS     v1,a1
        LDMEQDB  fp,{v1,fp,sp,pc}^
        LDR      a1,[v1,#0]
        BL       Delete_Function
        LDR      a1,[v1,#4]
        BL       Delete_Entry
        MOV      a3,v1
        SUB      a1,pc,#.+8-L000100
        MOV      a4,#8
        MOV      a2,#&8c
        LDMDB    fp,{v1,fp,sp,lr}
        B        m_free

        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&64,&65,&6c
        DCB     &65,&74,&65,&00
        DCD     &ff000010

        EXPORT  callback_delete
callback_delete
        MOV      ip,sp
        STMDB    sp!,{a1,v1,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        ADD      a3,pc,#L0002a4-.-8
        SUB      a1,pc,#.+8-L000100
        MOV      a2,#&91
        BL       trace_f
        TEQ      v1,#0
        BEQ      |L00029c.J4.callback_delete|
        LDR      a1,[v1,#0]
        BL       Delete_Level
        MOV      a3,v1
        SUB      a1,pc,#.+8-L000100
        MOV      a4,#4
        MOV      a2,#&95
        BL       m_free
|L00029c.J4.callback_delete|
        MOV      a1,#0
        LDMDB    fp,{v1,fp,sp,pc}^
L0002a4
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&64,&65,&6c
        DCB     &65,&74,&65,&0a
        DCB     &00,&00,&00,&00

        DCB     &43,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &00,&00,&00,&00
        DCD     &ff00000c

Callback
        MOV      ip,sp
        STMDB    sp!,{a1-a4}
        STMDB    sp!,{v1-v6,fp,ip,lr,pc}
        SUB      fp,ip,#&14
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v2,a1
        MOVS     v1,a2
        MOV      a1,#1
        LDR      v5,[fp,#&14]
        STR      a1,[sp,#-4]!
        MOV      a1,#0
        BEQ      |L0003e4.J4.Callback|
        CMP      a4,#0
        BLE      |L000374.J20.Callback|
        LDR      v3,[v1,#4]
        TEQ      v3,#0
        BEQ      |L000368.J6.Callback|
        ADD      v4,v5,#4
        SUB      v6,a4,#1
|L000318.J8.Callback|
        LDR      a2,[v3,#0]
        LDR      a3,[v5,#0]
        TEQ      a2,a3
        BNE      |L00035c.J11.Callback|
        MOV      a4,v4
        STMDB    sp!,{a4}
        MOV      a4,v6
        ADD      a3,sp,#4
        MOV      a1,v2
        LDR      a2,[v3,#4]
        BL       Callback
        ADD      sp,sp,#4
        TEQ      a1,#0
        BNE      |L0003f0.J33.Callback|
        LDR      a2,[sp,#0]
        TEQ      a2,#0
        BEQ      |L000368.J6.Callback|
|L00035c.J11.Callback|
        LDR      v3,[v3,#8]
        TEQ      v3,#0
        BNE      |L000318.J8.Callback|
|L000368.J6.Callback|
        LDR      a2,[sp,#0]
        TEQ      a2,#0
        BEQ      |L0003e4.J4.Callback|
|L000374.J20.Callback|
        LDR      v1,[v1,#0]
        TEQ      v1,#0
        BEQ      |L0003e4.J4.Callback|
|L000380.J21.Callback|
        MOV      a4,sp
        MOV      a3,v2
        LDR      a2,[v1,#4]
        STMDB    sp!,{a2-a4}
        LDR      a1,[v1,#0]
        BL       Function_Name
        MOV      a4,a1
        ADD      a3,pc,#L0003f4-.-8
        SUB      a1,pc,#.+8-L000100
        MOV      a2,#&c5
        BL       trace_f
        ADD      sp,sp,#&c
        MOV      a3,sp
        MOV      a2,v2
        LDR      a1,[v1,#4]
        MOV      lr,pc
        LDR      pc,[v1,#0]
        TEQ      a1,#0
        BNE      |L0003f0.J33.Callback|
        LDR      a2,[sp,#0]
        TEQ      a2,#0
        BEQ      |L0003e4.J4.Callback|
        LDR      v1,[v1,#8]
        TEQ      v1,#0
        BNE      |L000380.J21.Callback|
|L0003e4.J4.Callback|
        LDR      a2,[sp,#0]
        LDR      a3,[fp,#&c]
        STR      a2,[a3,#0]
|L0003f0.J33.Callback|
        LDMDB    fp,{v1-v6,fp,sp,pc}^
L0003f4
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &20,&25,&73,&20
        DCB     &28,&30,&78,&25
        DCB     &58,&2c,&20,&30
        DCB     &78,&25,&58,&2c
        DCB     &20,&30,&78,&25
        DCB     &58,&29,&0a,&00

        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &00,&00,&00,&00
        DCD     &ff00000c

        EXPORT  callback
callback
        MOV      ip,sp
        STMDB    sp!,{a1-a4}
        STMDB    sp!,{v1,fp,ip,lr,pc}
        SUB      fp,ip,#&14
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        SUB      sp,sp,#4
        ADD      a3,pc,#L0004b4-.-8
        SUB      a1,pc,#.+8-L000100
        MOV      a2,#&de
        BL       trace_f
        ADD      a4,fp,#&14
        STMDB    sp!,{a4}
        ADD      a3,sp,#4
        LDR      a1,[fp,#4]
        LDR      a4,[fp,#&10]
        LDR      a2,[a1,#0]
        LDR      a1,[fp,#8]
        BL       Callback
        ADD      sp,sp,#4
        MOVS     v1,a1
        BNE      |L0004ac.J6.callback|
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        ADDEQ    a4,pc,#L0004c4-.-8
        ADDNE    a4,pc,#L0004c8-.-8
        ADD      a3,pc,#L0004d0-.-8
        SUB      a1,pc,#.+8-L000100
        MOV      a2,#&e1
        BL       trace_f
        LDR      a1,[fp,#&c]
        TEQ      a1,#0
        LDRNE    a2,[sp,#0]
        STRNE    a2,[a1,#0]
|L0004ac.J6.callback|
        MOV      a1,v1
        LDMDB    fp,{v1,fp,sp,pc}^
L0004b4
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &20,&2e,&2e,&2e
        DCB     &0a,&00,&00,&00
L0004c4
        DCB     &77,&61,&73,&00
L0004c8
        DCB     &77,&61,&73,&20
        DCB     &6e,&6f,&74,&00
L0004d0
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &20,&2e,&2e,&2e
        DCB     &20,&25,&73,&20
        DCB     &63,&6c,&61,&69
        DCB     &6d,&65,&64,&0a
        DCB     &00,&00,&00,&00

        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&72,&65,&67
        DCB     &69,&73,&74,&65
        DCB     &72,&00,&00,&00
        DCD     &ff000014

        EXPORT  callback_register
callback_register
        MOV      ip,sp
        STMDB    sp!,{a1-a4}
        STMDB    sp!,{v1-v6,fp,ip,lr,pc}
        SUB      fp,ip,#&14
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        ADD      v4,fp,#&14
        MOV      v2,#0
        ADD      a3,pc,#L000588-.-8
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a2,#&f3
        BL       trace_f
        MOV      v3,#0
        MOV      v5,#0
        LDR      a1,[fp,#&10]
        CMP      a1,#0
        LDR      v1,[fp,#4]
        BLE      |L00062c.J5.callback_register|
|L00054c.J4.callback_register|
        MOV      v6,#0
        LDR      a1,[v1,#0]
        TEQ      a1,#0
        BNE      |L0005a8.J7.callback_register|
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a3,#8
        MOV      a2,#&100
        BL       m_alloc
        TEQ      a1,#0
        STRNE    v5,[a1,#0]
        STRNE    v5,[a1,#4]
        STRNE    a1,[v1,#0]
        BNE      |L0005a8.J7.callback_register|
        ADD      a2,pc,#L0005a0-.-8
        B        |L0006a0.J37.callback_register|
L000588
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&72,&65,&67
        DCB     &69,&73,&74,&65
        DCB     &72,&0a,&00,&00
L00059c
        DCD     |x$codeseg|+&100
L0005a0
        DCB     &4e,&6f,&4d,&65
        DCB     &6d,&00,&00,&00
|L0005a8.J7.callback_register|
        LDR      a1,[v1,#0]
        LDR      a1,[a1,#4]
        TEQ      a1,#0
        BEQ      |L0005dc.J19.callback_register|
        LDR      a2,[v4,v3,LSL #2]
|L0005bc.J12.callback_register|
        LDR      a3,[a1,#0]
        TEQ      a2,a3
        BEQ      |L000618.J18.callback_register|
        LDR      a1,[a1,#8]
        TEQ      a1,#0
        BNE      |L0005bc.J12.callback_register|
        TEQ      v6,#0
        BNE      |L000618.J18.callback_register|
|L0005dc.J19.callback_register|
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a3,#&c
        MOV      a2,#&114
        BL       m_alloc
        TEQ      a1,#0
        LDRNE    a2,[v4,v3,LSL #2]
        STMNEIA  a1,{a2,v5}
        LDRNE    a2,[v1,#0]
        LDRNE    a2,[a2,#4]
        STRNE    a2,[a1,#8]
        LDRNE    a2,[v1,#0]
        STRNE    a1,[a2,#4]!
        BNE      |L000618.J18.callback_register|
        SUB      a2,pc,#.+8-L0005a0
        B        |L0006a0.J37.callback_register|
|L000618.J18.callback_register|
        ADD      v1,a1,#4
        ADD      v3,v3,#1
        LDR      a1,[fp,#&10]
        CMP      v3,a1
        BLT      |L00054c.J4.callback_register|
|L00062c.J5.callback_register|
        LDR      a1,[v1,#0]
        TEQ      a1,#0
        BNE      |L000664.J23.callback_register|
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a3,#8
        MOV      a2,#&26
        ADD      a2,a2,#&100
        BL       m_alloc
        TEQ      a1,#0
        SUBEQ    a2,pc,#.+8-L0005a0
        BEQ      |L0006a0.J37.callback_register|
        STR      v5,[a1,#0]
        STR      v5,[a1,#4]
        STR      a1,[v1,#0]
|L000664.J23.callback_register|
        LDR      v1,[v1,#0]
        B        |L000670.J28.callback_register|
|L00066c.J27.callback_register|
        ADD      v1,a1,#8
|L000670.J28.callback_register|
        LDR      a1,[v1,#0]
        TEQ      a1,#0
        BNE      |L00066c.J27.callback_register|
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a3,#&c
        MOV      a2,#&36
        ADD      a2,a2,#&100
        BL       m_alloc
        STR      a1,[v1,#0]
        TEQ      a1,#0
        BNE      |L0006b0.J30.callback_register|
        SUB      a2,pc,#.+8-L0005a0
|L0006a0.J37.callback_register|
        MOV      a1,#&31
        BL       riscos_error_lookup
        MOV      v2,a1
        B        |L0006cc.J11.callback_register|
|L0006b0.J30.callback_register|
        LDR      a2,[fp,#8]
        STR      a2,[a1,#0]
        LDR      a2,[fp,#&c]
        LDR      a1,[v1,#0]
        STR      a2,[a1,#4]!
        LDR      a1,[v1,#0]
        STR      v5,[a1,#8]!
|L0006cc.J11.callback_register|
        MOV      a1,v2
        LDMDB    fp,{v1-v6,fp,sp,pc}^

        DCB     &44,&65,&72,&65
        DCB     &67,&69,&73,&74
        DCB     &65,&72,&5f,&46
        DCB     &75,&6e,&63,&74
        DCB     &69,&6f,&6e,&00
        DCD     &ff000014

Deregister_Function
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v3,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v2,a2
        LDR      v3,[a1,#0]
        TEQ      v3,#0
        LDMEQDB  fp,{v1-v3,fp,sp,pc}^
        ADD      a1,v3,#8
        BL       Deregister_Function
        LDR      a1,[v3,#4]
        TEQ      a1,v2
        LDMNEDB  fp,{v1-v3,fp,sp,pc}^
        LDR      a1,[v3,#8]
        MOV      a3,v3
        STR      a1,[v1,#0]
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a4,#&c
        MOV      a2,#&63
        ADD      a2,a2,#&100
        LDMDB    fp,{v1-v3,fp,sp,lr}
        B        m_free

        DCB     &44,&65,&72,&65
        DCB     &67,&69,&73,&74
        DCB     &65,&72,&5f,&45
        DCB     &6e,&74,&72,&79
        DCB     &00,&00,&00,&00
        DCD     &ff000014

        ;MPORT  Deregister_Level
Deregister_Entry
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v3,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v2,a2
        LDR      v3,[a1,#0]
        TEQ      v3,#0
        LDMEQDB  fp,{v1-v3,fp,sp,pc}^
        ADD      a1,v3,#4
        BL       Deregister_Level
        ADD      a1,v3,#8
        MOV      a2,v2
        BL       Deregister_Entry
        LDR      a1,[v3,#4]
        TEQ      a1,#0
        LDMNEDB  fp,{v1-v3,fp,sp,pc}^
        LDR      a1,[v3,#8]
        MOV      a3,v3
        STR      a1,[v1,#0]
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a4,#&c
        MOV      a2,#&75
        ADD      a2,a2,#&100
        LDMDB    fp,{v1-v3,fp,sp,lr}
        B        m_free

        DCB     &44,&65,&72,&65
        DCB     &67,&69,&73,&74
        DCB     &65,&72,&5f,&4c
        DCB     &65,&76,&65,&6c
        DCB     &00,&00,&00,&00
        DCD     &ff000014

Deregister_Level
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v3,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v2,a2
        LDR      v3,[a1,#0]
        TEQ      v3,#0
        LDMEQDB  fp,{v1-v3,fp,sp,pc}^
        MOV      a1,v3
        BL       Deregister_Function
        ADD      a1,v3,#4
        MOV      a2,v2
        BL       Deregister_Entry
        LDR      a1,[v3,#0]
        TEQ      a1,#0
        LDREQ    a1,[v3,#4]
        TEQEQ    a1,#0
        LDMNEDB  fp,{v1-v3,fp,sp,pc}^
        MOV      a1,#0
        MOV      a3,v3
        STR      a1,[v1,#0]
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a4,#8
        MOV      a2,#&87
        ADD      a2,a2,#&100
        LDMDB    fp,{v1-v3,fp,sp,lr}
        B        m_free

        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&64,&65,&72
        DCB     &65,&67,&69,&73
        DCB     &74,&65,&72,&00
        DCD     &ff000014

        EXPORT  callback_deregister
callback_deregister
        MOV      ip,sp
        STMDB    sp!,{a1-a4}
        STMDB    sp!,{v1-v4,fp,ip,lr,pc}
        SUB      fp,ip,#&14
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,#0
        ADD      v4,fp,#&10
        MOV      v3,#0
        ADD      a3,pc,#L0008bc-.-8
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a2,#&9b
        ADD      a2,a2,#&100
        BL       trace_f
        MOV      a1,#0
        LDR      a2,[fp,#&c]
        LDR      v2,[fp,#4]
        B        |L000920.J5.callback_deregister|
L0008bc
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&64,&65,&72
        DCB     &65,&67,&69,&73
        DCB     &74,&65,&72,&0a
        DCB     &00,&00,&00,&00
|L0008d4.J4.callback_deregister|
        ADD      v1,a3,#4
        LDR      a3,[v1,#0]
        TEQ      a3,#0
        BEQ      |L000970.J14.callback_deregister|
        LDR      a4,[v4,a1,LSL #2]
|L0008e8.J6.callback_deregister|
        LDR      a3,[v1,#0]
        LDR      ip,[a3,#0]
        TEQ      a4,ip
        BEQ      |L00090c.J7.callback_deregister|
        ADD      v1,a3,#8
        LDR      a3,[v1,#0]
        TEQ      a3,#0
        BNE      |L0008e8.J6.callback_deregister|
        B        |L000970.J14.callback_deregister|
|L00090c.J7.callback_deregister|
        LDR      a4,[v1,#0]
        TEQ      a4,#0
        BEQ      |L000970.J14.callback_deregister|
        ADD      v2,a3,#4
        ADD      a1,a1,#1
|L000920.J5.callback_deregister|
        CMP      a1,a2
        BGE      |L000934.J15.callback_deregister|
        LDR      a3,[v2,#0]
        TEQ      a3,#0
        BNE      |L0008d4.J4.callback_deregister|
|L000934.J15.callback_deregister|
        MOV      a1,v2
        LDR      a2,[fp,#8]
        BL       Deregister_Level
        LDR      a1,[v2,#0]
        TEQ      a1,#0
        BNE      |L000970.J14.callback_deregister|
        TEQ      v1,#0
        BEQ      |L000970.J14.callback_deregister|
        LDR      a3,[v1,#0]
        LDR      a1,[a3,#8]
        STR      a1,[v1,#0]
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a4,#&c
        MOV      a2,#&1b4
        BL       m_free
|L000970.J14.callback_deregister|
        MOV      a1,v3
        LDMDB    fp,{v1-v4,fp,sp,pc}^

        DCB     &54,&72,&61,&63
        DCB     &65,&5f,&45,&6e
        DCB     &74,&72,&79,&00
        DCD     &ff00000c

        ;MPORT  Trace_Level
Trace_Entry
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOVS     v1,a1
        MOV      v2,a2
        LDMEQDB  fp,{v1,v2,fp,sp,pc}^
        LDR      a4,[v1,#0]
        SUB      a3,pc,#.+8-(L0008bc+20)
        STMDB    sp!,{a3,a4}
        MOV      a4,v2
        ADD      a3,pc,#L0009e8-.-8
        MOV      a2,#0
        MOV      a1,#0
        BL       trace_f
        ADD      sp,sp,#8
        ADD      a2,v2,#3
        LDR      a1,[v1,#4]
        BL       Trace_Level
        MOV      a2,v2
        LDR      a1,[v1,#8]!
        LDMDB    fp,{v1,v2,fp,sp,lr}
        B        Trace_Entry
L0009e8
        DCB     &25,&2a,&73,&25
        DCB     &64,&3a,&0a,&00

        DCB     &54,&72,&61,&63
        DCB     &65,&5f,&46,&75
        DCB     &6e,&63,&74,&69
        DCB     &6f,&6e,&00,&00
        DCD     &ff000010

Trace_Function
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v3,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a2
        MOVS     v2,a1
        BEQ      |L000ac0.J12.Trace_Function|
        B        |L000a30.J8.Trace_Function|
|L000a28.J4.Trace_Function|
        TEQ      v3,#0
        BEQ      |L000a68.J7.Trace_Function|
|L000a30.J8.Trace_Function|
        SUB      a4,pc,#.+8-(L0008bc+20)
        STMDB    sp!,{a4}
        MOV      a4,v1
        ADD      a3,pc,#L000a58-.-8
        MOV      a2,#0
        MOV      a1,#0
        BL       trace_f
        ADD      sp,sp,#4
        MOV      v3,#0
        B        |L000a78.J9.Trace_Function|
L000a58
        DCB     &25,&2a,&73,&46
        DCB     &75,&6e,&63,&74
        DCB     &69,&6f,&6e,&73
        DCB     &3a,&00,&00,&00
|L000a68.J7.Trace_Function|
        ADD      a3,pc,#L000ab0-.-8
        MOV      a2,#0
        MOV      a1,#0
        BL       trace_f
|L000a78.J9.Trace_Function|
        LDR      a4,[v2,#4]
        STMDB    sp!,{a4}
        LDR      a1,[v2,#0]
        BL       Function_Name
        MOV      a4,a1
        ADD      a3,pc,#L000ab4-.-8
        MOV      a2,#0
        MOV      a1,#0
        BL       trace_f
        ADD      sp,sp,#4
        LDR      v2,[v2,#8]
        TEQ      v2,#0
        BNE      |L000a28.J4.Trace_Function|
        B        |L000ae0.J11.Trace_Function|
L000ab0
        DCB     &2c,&20,&00,&00
L000ab4
        DCB     &20,&25,&73,&20
        DCB     &28,&30,&78,&25
        DCB     &58,&2c,&29,&00
|L000ac0.J12.Trace_Function|
        SUB      a4,pc,#.+8-(L0008bc+20)
        STMDB    sp!,{a4}
        MOV      a4,v1
        ADD      a3,pc,#L000af4-.-8
        MOV      a2,#0
        MOV      a1,#0
        BL       trace_f
        ADD      sp,sp,#4
|L000ae0.J11.Trace_Function|
        ADD      a3,pc,#L000b04-.-8
        MOV      a2,#0
        MOV      a1,#0
        LDMDB    fp,{v1-v3,fp,sp,lr}
        B        trace_f
L000af4
        DCB     &25,&2a,&73,&4e
        DCB     &6f,&20,&66,&75
        DCB     &6e,&63,&74,&69
        DCB     &6f,&6e,&73,&00
L000b04
        DCB     &0a,&00,&00,&00

        DCB     &54,&72,&61,&63
        DCB     &65,&5f,&4c,&65
        DCB     &76,&65,&6c,&00
        DCD     &ff00000c

Trace_Level
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOVS     v1,a1
        MOV      v2,a2
        LDMEQDB  fp,{v1,v2,fp,sp,pc}^
        LDR      a1,[v1,#0]
        BL       Trace_Function
        MOV      a2,v2
        LDR      a1,[v1,#4]!
        LDMDB    fp,{v1,v2,fp,sp,lr}
        B        Trace_Entry

        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&74,&72,&61
        DCB     &63,&65,&00,&00
        DCD     &ff000010

        EXPORT  callback_trace
callback_trace
        MOV      ip,sp
        STMDB    sp!,{a1,v1,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        ADD      a3,pc,#L000ba8-.-8
        LDR      a1,[pc, #L00059c-.-8]
        MOV      a2,#&e5
        ADD      a2,a2,#&100
        BL       trace_f
        TEQ      v1,#0
        MOVNE    a2,#0
        LDRNE    a1,[v1,#0]
        LDMNEDB  fp,{v1,fp,sp,lr}
        BNE      Trace_Level
        LDMDB    fp,{v1,fp,sp,pc}^
L000ba8
        DCB     &63,&61,&6c,&6c
        DCB     &62,&61,&63,&6b
        DCB     &5f,&74,&72,&61
        DCB     &63,&65,&0a,&00

        AREA |C$$data|,DATA

|x$dataseg|
        %       80
        DCD     &00000000

        END
