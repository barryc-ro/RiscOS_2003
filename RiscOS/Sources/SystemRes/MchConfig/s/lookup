; generated by Norcroft RISC OS ARM C vsn 5.00d (Acorn Computers Ltd) <alpha test> [Aug 18 1994]

        AREA |C$$code|, CODE, READONLY
|x$codeseg|

        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&6e
        DCB     &65,&77,&00,&00
        DCD     &ff00000c

        IMPORT  __rt_stkovf_split_small
        IMPORT  trace_f
        IMPORT  m_alloc
        IMPORT  riscos_error_lookup
        IMPORT  m_free
        EXPORT  lookup_new
lookup_new
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v5,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v2,a1
        MOV      v1,a2
        MOV      a1,#1
        MOV      v5,a1,LSL a2
        MOV      v4,#0
        ADD      a3,pc,#L000094-.-8
        ADD      a1,pc,#L0000a0-.-8
        MOV      a2,#&24
        BL       trace_f
        ADD      a1,pc,#L0000a0-.-8
        MOV      a3,#&c
        MOV      a2,#&25
        BL       m_alloc
        MOVS     v3,a1
        ADDEQ    a2,pc,#L0000b8-.-8
        BEQ      |L000084.J22.lookup_new|
        MOV      a3,v5,LSL #3
        ADD      a1,pc,#L0000a0-.-8
        MOV      a2,#&2a
        BL       m_alloc
        STR      a1,[v3,#8]
        TEQ      a1,#0
        BNE      |L0000c0.J7.lookup_new|
        ADD      a2,pc,#L0000b8-.-8
|L000084.J22.lookup_new|
        MOV      a1,#&31
        BL       riscos_error_lookup
        MOV      v4,a1
        B        |L000110.J6.lookup_new|
L000094
        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&6e
        DCB     &65,&77,&0a,&00
L0000a0
        DCB     &3c,&53,&75,&70
        DCB     &70,&6f,&72,&74
        DCB     &24,&44,&69,&72
        DCB     &3e,&2e,&63,&2e
        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&00,&00
L0000b8
        DCB     &4e,&6f,&4d,&65
        DCB     &6d,&00,&00,&00
|L0000c0.J7.lookup_new|
        STMIA    v3,{v1,v5}
        SUB      a4,v5,#1
        ADD      a3,pc,#L000170-.-8
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&31
        BL       trace_f
        MOV      a1,#0
        LDR      a2,[v3,#4]
        CMP      a2,#0
        BLE      |L000108.J10.lookup_new|
        MOV      a2,#0
|L0000ec.J9.lookup_new|
        LDR      a3,[v3,#8]
        ADD      a3,a3,a1,LSL #3
        ADD      a1,a1,#1
        STR      a2,[a3,#0]
        LDR      a3,[v3,#4]
        CMP      a1,a3
        BLT      |L0000ec.J9.lookup_new|
|L000108.J10.lookup_new|
        TEQ      v2,#0
        STRNE    v3,[v2,#0]
|L000110.J6.lookup_new|
        TEQ      v4,#0
        BEQ      |L000168.J15.lookup_new|
        LDR      a4,[v4,#0]
        STMDB    sp!,{a4}
        ADD      a4,v4,#4
        ADD      a3,pc,#L000194-.-8
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&39
        BL       trace_f
        ADD      sp,sp,#4
        TEQ      v3,#0
        BEQ      |L000168.J15.lookup_new|
        LDR      a3,[v3,#8]
        SUB      a1,pc,#.+8-L0000a0
        MOV      a4,#8
        MOV      a2,#&3b
        BL       m_free
        MOV      a3,v3
        SUB      a1,pc,#.+8-L0000a0
        MOV      a4,#&c
        MOV      a2,#&3c
        BL       m_free
|L000168.J15.lookup_new|
        MOV      a1,v4
        LDMDB    fp,{v1-v5,fp,sp,pc}^
L000170
        DCB     &63,&6c,&65,&61
        DCB     &72,&69,&6e,&67
        DCB     &20,&6f,&75,&74
        DCB     &20,&65,&6e,&74
        DCB     &72,&69,&65,&73
        DCB     &20,&30,&2c,&20
        DCB     &2e,&2e,&2e,&2c
        DCB     &20,&25,&64,&0a
        DCB     &00,&00,&00,&00
L000194
        DCB     &45,&52,&52,&4f
        DCB     &52,&3a,&20,&25
        DCB     &73,&20,&28,&65
        DCB     &72,&72,&6f,&72
        DCB     &20,&30,&78,&25
        DCB     &58,&29,&0a,&00

        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&64
        DCB     &65,&6c,&65,&74
        DCB     &65,&00,&00,&00
        DCD     &ff000010

        IMPORT  riscos_strlen
        EXPORT  lookup_delete
lookup_delete
        MOV      ip,sp
        STMDB    sp!,{a1,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        ADD      a3,pc,#L0001f8-.-8
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&44
        BL       trace_f
        TEQ      v1,#0
        MOVNE    v2,#0
        BNE      |L00022c.J7.lookup_delete|
        B        |L000278.J4.lookup_delete|
L0001f8
        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&64
        DCB     &65,&6c,&65,&74
        DCB     &65,&0a,&00,&00
|L000208.J6.lookup_delete|
        BL       riscos_strlen
        ADD      a4,a1,#1
        LDR      a1,[v1,#8]
        ADD      a1,a1,v2,LSL #3
        LDR      a3,[a1,#0]
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&4b
        BL       m_free
        ADD      v2,v2,#1
|L00022c.J7.lookup_delete|
        LDR      a1,[v1,#4]
        CMP      v2,a1
        BGE      |L00024c.J8.lookup_delete|
        LDR      a1,[v1,#8]
        ADD      a1,a1,v2,LSL #3
        LDR      a1,[a1,#0]
        TEQ      a1,#0
        BNE      |L000208.J6.lookup_delete|
|L00024c.J8.lookup_delete|
        LDR      a1,[v1,#4]
        MOV      a4,a1,LSL #3
        LDR      a3,[v1,#8]
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&4d
        BL       m_free
        MOV      a3,v1
        SUB      a1,pc,#.+8-L0000a0
        MOV      a4,#&c
        MOV      a2,#&4e
        BL       m_free
|L000278.J4.lookup_delete|
        MOV      a1,#0
        LDMDB    fp,{v1,v2,fp,sp,pc}^

        DCB     &4c,&6f,&6f,&6b
        DCB     &75,&70,&00,&00
        DCD     &ff000008

        IMPORT  xterritory_collate
Lookup
        MOV      ip,sp
        STMDB    sp!,{a1-a3,v1-v6,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v3,a2
        MOV      v2,a3
        SUB      sp,sp,#4
        MOV      v4,#0
        MOV      v6,#0
        ADD      a3,pc,#L000328-.-8
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&65
        BL       trace_f
        MOV      v5,#0
        LDR      a1,[v1,#4]
        CMP      a1,#0
        BLE      |L000340.J5.Lookup|
|L0002d8.J4.Lookup|
        LDR      a1,[v1,#8]
        ADD      a1,a1,v5,LSL #3
        LDR      a3,[a1,#0]
        TEQ      a3,#0
        BEQ      |L00031c.J13.Lookup|
        MOV      a4,sp
        STMDB    sp!,{a4}
        MOV      a2,v3
        MOV      a4,#1
        MVN      a1,#0
        BL       xterritory_collate
        ADD      sp,sp,#4
        MOVS     v4,a1
        BNE      |L000348.J11.Lookup|
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        BNE      |L000330.J12.Lookup|
|L00031c.J13.Lookup|
        LDR      a1,[v1,#8]!
        ADD      v6,a1,v5,LSL #3
        B        |L000340.J5.Lookup|
L000328
        DCB     &4c,&6f,&6f,&6b
        DCB     &75,&70,&0a,&00
|L000330.J12.Lookup|
        ADD      v5,v5,#1
        LDR      a1,[v1,#4]
        CMP      v5,a1
        BLT      |L0002d8.J4.Lookup|
|L000340.J5.Lookup|
        TEQ      v2,#0
        STRNE    v6,[v2,#0]
|L000348.J11.Lookup|
        TEQ      v4,#0
        BEQ      |L000370.J17.Lookup|
        LDR      a4,[v4,#0]
        STMDB    sp!,{a4}
        ADD      a4,v4,#4
        SUB      a3,pc,#.+8-L000194
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&7b
        BL       trace_f
        ADD      sp,sp,#4
|L000370.J17.Lookup|
        MOV      a1,v4
        LDMDB    fp,{v1-v6,fp,sp,pc}^

        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&00,&00
        DCD     &ff000008

        EXPORT  lookup
lookup
        MOV      ip,sp
        STMDB    sp!,{a1-a3,v1-v3,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v3,a1
        MOV      v1,a2
        MOV      v2,a3
        SUB      sp,sp,#4
        MOV      a4,a2
        STMDB    sp!,{a4}
        MOV      a4,a1
        ADD      a3,pc,#L000438-.-8
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&84
        BL       trace_f
        ADD      sp,sp,#4
        MOV      a3,sp
        MOV      a2,v1
        MOV      a1,v3
        BL       Lookup
        MOVS     v3,a1
        BNE      |L000408.J6.lookup|
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        LDRNE    a2,[a1,#0]
        TEQNE    a2,#0
        BNE      |L000458.J7.lookup|
        MOV      a3,v1
        ADD      a2,pc,#L000450-.-8
        MOV      a1,#9
        BL       riscos_error_lookup
        MOV      v3,a1
|L000408.J6.lookup|
        TEQ      v3,#0
        BEQ      |L000430.J13.lookup|
        LDR      a4,[v3,#0]
        STMDB    sp!,{a4}
        ADD      a4,v3,#4
        SUB      a3,pc,#.+8-L000194
        SUB      a1,pc,#.+8-L0000a0
        MOV      a2,#&92
        BL       trace_f
        ADD      sp,sp,#4
|L000430.J13.lookup|
        MOV      a1,v3
        LDMDB    fp,{v1-v3,fp,sp,pc}^
L000438
        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&20,&28
        DCB     &30,&78,&25,&58
        DCB     &2c,&20,&22,&25
        DCB     &73,&22,&2c,&29
        DCB     &0a,&00,&00,&00
L000450
        DCB     &4e,&6f,&41,&6e
        DCB     &79,&00,&00,&00
|L000458.J7.lookup|
        TEQ      v2,#0
        BEQ      |L000430.J13.lookup|
        LDR      a1,[a1,#4]
        STR      a1,[v2,#0]
        B        |L000430.J13.lookup|

        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&69
        DCB     &6e,&73,&65,&72
        DCB     &74,&00,&00,&00
        DCD     &ff000010

        IMPORT  m_realloc
        IMPORT  riscos_strcpy
        EXPORT  lookup_insert
lookup_insert
        MOV      ip,sp
        STMDB    sp!,{a1-a3,v1-v4,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v2,a2
        MOV      v3,a3
        SUB      sp,sp,#4
        MOV      a4,a3
        MOV      a3,a2
        STMDB    sp!,{a3,a4}
        MOV      a4,a1
        ADD      a3,pc,#L000618-.-8
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&9b
        BL       trace_f
        ADD      sp,sp,#8
        MOV      a3,sp
        MOV      a2,v2
        MOV      a1,v1
        BL       Lookup
        MOVS     v4,a1
        BNE      |L000704.J6.lookup_insert|
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        BNE      |L0005cc.J7.lookup_insert|
        LDR      a4,[v1,#8]
        STMDB    sp!,{a4}
        LDR      a1,[v1,#4]
        MOV      a1,a1,LSL #1
        MOV      a4,a1,LSL #3
        ADD      a3,pc,#L000640-.-8
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&a5
        BL       trace_f
        ADD      sp,sp,#4
        LDR      a1,[v1,#4]
        MOV      a2,a1,LSL #1
        MOV      a4,a2,LSL #3
        STMDB    sp!,{a4}
        MOV      a4,a1,LSL #3
        LDR      a3,[v1,#8]
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&a7
        BL       m_realloc
        ADD      sp,sp,#4
        TEQ      a1,#0
        ADDEQ    a2,pc,#L000670-.-8
        BEQ      |L000608.J22.lookup_insert|
        STR      a1,[v1,#8]
        MOV      a4,a1
        ADD      a3,pc,#L000678-.-8
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&ac
        BL       trace_f
        MOV      a2,#1
        LDR      a1,[v1,#4]
        RSB      a4,a2,a1,LSL #1
        STMDB    sp!,{a4}
        MOV      a4,a1
        ADD      a3,pc,#L000698-.-8
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&af
        BL       trace_f
        LDR      a1,[v1,#8]
        LDR      a2,[v1,#4]
        ADD      a1,a1,a2,LSL #3
        STR      a1,[sp,#4]!
        LDR      a1,[v1,#0]
        ADD      a1,a1,#1
        STR      a1,[v1,#0]
        LDR      a2,[v1,#4]
        MOV      a2,a2,LSL #1
        STR      a2,[v1,#4]!
        MOV      a4,a2
        STMDB    sp!,{a4}
        MOV      a4,a1
        ADD      a3,pc,#L0006bc-.-8
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&b7
        BL       trace_f
        ADD      sp,sp,#4
|L0005cc.J7.lookup_insert|
        LDR      a1,[sp,#0]
        LDR      a1,[a1,#0]
        TEQ      a1,#0
        BNE      |L0006d8.J15.lookup_insert|
        MOV      a1,v2
        BL       riscos_strlen
        ADD      a3,a1,#1
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&ba
        BL       m_alloc
        LDR      a2,[sp,#0]
        STR      a1,[a2,#0]
        TEQ      a1,#0
        BNE      |L0006d8.J15.lookup_insert|
        ADD      a2,pc,#L000670-.-8
|L000608.J22.lookup_insert|
        MOV      a1,#&31
        BL       riscos_error_lookup
        MOV      v4,a1
        B        |L000704.J6.lookup_insert|
L000618
        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&69
        DCB     &6e,&73,&65,&72
        DCB     &74,&20,&28,&30
        DCB     &78,&25,&58,&2c
        DCB     &20,&22,&25,&73
        DCB     &22,&2c,&20,&30
        DCB     &78,&25,&58,&29
        DCB     &0a,&00,&00,&00
L00063c
        DCD     |x$codeseg|+&a0
L000640
        DCB     &65,&78,&74,&65
        DCB     &6e,&64,&69,&6e
        DCB     &67,&20,&74,&68
        DCB     &65,&20,&74,&61
        DCB     &62,&6c,&65,&20
        DCB     &74,&6f,&20,&73
        DCB     &69,&7a,&65,&20
        DCB     &25,&64,&20,&28
        DCB     &6e,&6f,&77,&20
        DCB     &61,&74,&20,&30
        DCB     &78,&25,&58,&29
        DCB     &0a,&00,&00,&00
L000670
        DCB     &4e,&6f,&4d,&65
        DCB     &6d,&00,&00,&00
L000678
        DCB     &74,&61,&62,&6c
        DCB     &65,&20,&65,&78
        DCB     &74,&65,&6e,&64
        DCB     &65,&64,&20,&28
        DCB     &6e,&6f,&77,&20
        DCB     &61,&74,&20,&30
        DCB     &78,&25,&58,&29
        DCB     &0a,&00,&00,&00
L000698
        DCB     &63,&6c,&65,&61
        DCB     &72,&69,&6e,&67
        DCB     &20,&6f,&75,&74
        DCB     &20,&65,&6e,&74
        DCB     &72,&69,&65,&73
        DCB     &20,&25,&64,&2c
        DCB     &20,&2e,&2e,&2e
        DCB     &2c,&20,&25,&64
        DCB     &0a,&00,&00,&00
L0006bc
        DCB     &6e,&65,&77,&20
        DCB     &70,&6f,&77,&65
        DCB     &72,&20,&25,&64
        DCB     &2c,&20,&6e,&65
        DCB     &77,&20,&73,&69
        DCB     &7a,&65,&20,&25
        DCB     &64,&0a,&00,&00
|L0006d8.J15.lookup_insert|
        MOV      a4,v2
        ADD      a3,pc,#L000734-.-8
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&bf
        BL       trace_f
        MOV      a2,v2
        LDR      a1,[sp,#0]
        LDR      a1,[a1,#0]
        BL       riscos_strcpy
        LDR      a1,[sp,#0]
        STR      v3,[a1,#4]!
|L000704.J6.lookup_insert|
        TEQ      v4,#0
        BEQ      |L00072c.J18.lookup_insert|
        LDR      a4,[v4,#0]
        STMDB    sp!,{a4}
        ADD      a4,v4,#4
        LDR      a3,[pc, #L000748-.-8]
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&c5
        BL       trace_f
        ADD      sp,sp,#4
|L00072c.J18.lookup_insert|
        MOV      a1,v4
        LDMDB    fp,{v1-v4,fp,sp,pc}^
L000734
        DCB     &69,&6e,&73,&65
        DCB     &72,&74,&69,&6e
        DCB     &67,&20,&22,&25
        DCB     &73,&22,&20,&6e
        DCB     &6f,&77,&0a,&00
L000748
        DCD     |x$codeseg|+&194

        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&65
        DCB     &6e,&75,&6d,&65
        DCB     &72,&61,&74,&65
        DCB     &00,&00,&00,&00
        DCD     &ff000014

        EXPORT  lookup_enumerate
lookup_enumerate
        MOV      ip,sp
        STMDB    sp!,{a1-v4,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v2,a1
        MOV      v4,a2
        MOV      v3,a3
        MOV      v1,a4
        ADD      a3,pc,#L0007ec-.-8
        LDR      a1,[pc, #L00063c-.-8]
        MOV      a2,#&cc
        BL       trace_f
        LDR      a1,[v1,#0]
        LDR      a2,[v2,#4]
        CMP      a1,a2
        BGE      |L000800.J4.lookup_enumerate|
        LDR      a2,[v2,#8]
        ADD      a1,a2,a1,LSL #3
        LDR      a1,[a1,#0]
        TEQ      a1,#0
        BEQ      |L000800.J4.lookup_enumerate|
        TEQ      v4,#0
        STRNE    a1,[v4,#0]
        TEQ      v3,#0
        BEQ      |L0007e0.J9.lookup_enumerate|
        LDR      a1,[v2,#8]!
        LDR      a2,[v1,#0]
        ADD      a1,a1,a2,LSL #3
        LDR      a1,[a1,#4]
        STR      a1,[v3,#0]
|L0007e0.J9.lookup_enumerate|
        LDR      a1,[v1,#0]
        ADD      a1,a1,#1
        B        |L000804.J14.lookup_enumerate|
L0007ec
        DCB     &6c,&6f,&6f,&6b
        DCB     &75,&70,&5f,&65
        DCB     &6e,&75,&6d,&65
        DCB     &72,&61,&74,&65
        DCB     &0a,&00,&00,&00
|L000800.J4.lookup_enumerate|
        MOV      a1,#0
|L000804.J14.lookup_enumerate|
        STR      a1,[v1,#0]
        MOV      a1,#0
        LDMDB    fp,{v1-v4,fp,sp,pc}^

        AREA |C$$data|,DATA

|x$dataseg|

        END
