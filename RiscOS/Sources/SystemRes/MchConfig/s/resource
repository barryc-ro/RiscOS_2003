; generated by Norcroft RISC OS ARM C vsn 5.00d (Acorn Computers Ltd) <alpha test> [Aug 18 1994]

        AREA |C$$code|, CODE, READONLY
|x$codeseg|

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&6d,&65,&73
        DCB     &73,&61,&67,&65
        DCB     &73,&5f,&61,&6c
        DCB     &6c,&6f,&63,&00
        DCD     &ff000018

        IMPORT  __rt_stkovf_split_big
        IMPORT  trace_f
        IMPORT  lookup
        IMPORT  xmessagetrans_file_info
        IMPORT  m_realloc
        IMPORT  riscos_error_lookup
        IMPORT  xmessagetrans_open_file
        IMPORT  xmessagetrans_enumerate_tokens
        IMPORT  lookup_insert
        IMPORT  xmessagetrans_lookup
        IMPORT  xmessagetrans_close_file
        EXPORT  resource_messages_alloc
resource_messages_alloc
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v3,fp,ip,lr,pc}
        SUB      fp,ip,#4
        SUB      ip,sp,#&168
        CMP      ip,sl
        BLLT     __rt_stkovf_split_big
        MOV      v1,a1
        MOV      v2,a2
        SUB      sp,sp,#&24
        ADD      a3,pc,#L0000d8-.-8
        ADD      a1,pc,#L0000f4-.-8
        MOV      a2,#&2f
        BL       trace_f
        MOV      a3,sp
        MOV      a1,v1
        ADD      a2,pc,#L000110-.-8
        BL       lookup
        MOVS     v3,a1
        BEQ      |L00007c.J4.resource_messages_alloc|
        LDR      a1,[v3,#0]
        TEQ      a1,#9
        BNE      |L000454.J43.resource_messages_alloc|
        MOV      a1,#0
        STR      a1,[sp,#0]
|L00007c.J4.resource_messages_alloc|
        ADD      a3,sp,#&10
        MOV      a1,v1
        ADD      a2,pc,#L00011c-.-8
        BL       lookup
        MOVS     v3,a1
        BEQ      |L0000a8.J9.resource_messages_alloc|
        LDR      a1,[v3,#0]
        TEQ      a1,#9
        BNE      |L000454.J43.resource_messages_alloc|
        MOV      a1,#0
        STR      a1,[sp,#&10]
|L0000a8.J9.resource_messages_alloc|
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        LDR      a4,[sp,#&10]
        BEQ      |L000148.J13.resource_messages_alloc|
        STMDB    sp!,{a4}
        MOV      a4,a1
        ADD      a3,pc,#L000124-.-8
        ADD      a1,pc,#L0000f4-.-8
        MOV      a2,#&3f
        BL       trace_f
        ADD      sp,sp,#4
        B        |L000158.J15.resource_messages_alloc|
L0000d8
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&6d,&65,&73
        DCB     &73,&61,&67,&65
        DCB     &73,&5f,&61,&6c
        DCB     &6c,&6f,&63,&0a
        DCB     &00,&00,&00,&00
L0000f4
        DCB     &3c,&53,&75,&70
        DCB     &70,&6f,&72,&74
        DCB     &24,&44,&69,&72
        DCB     &3e,&2e,&63,&2e
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &00,&00,&00,&00
L000110
        DCB     &21,&4d,&65,&73
        DCB     &73,&61,&67,&65
        DCB     &73,&00,&00,&00
L00011c
        DCB     &21,&53,&69,&7a
        DCB     &65,&00,&00,&00
L000124
        DCB     &61,&74,&20,&65
        DCB     &6e,&74,&72,&79
        DCB     &3a,&20,&6d,&65
        DCB     &73,&73,&61,&67
        DCB     &65,&73,&20,&22
        DCB     &25,&73,&22,&2c
        DCB     &20,&73,&69,&7a
        DCB     &65,&20,&25,&64
        DCB     &0a,&00,&00,&00
|L000148.J13.resource_messages_alloc|
        ADD      a3,pc,#L000248-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&41
        BL       trace_f
|L000158.J15.resource_messages_alloc|
        MOV      a4,v2
        ADD      a3,pc,#L00026c-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&43
        BL       trace_f
        ADD      a3,sp,#&c
        ADD      a2,sp,#4
        MOV      a1,v2
        BL       xmessagetrans_file_info
        MOVS     v3,a1
        BNE      |L000454.J43.resource_messages_alloc|
        LDR      a4,[sp,#&c]
        ADD      a3,pc,#L000284-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&47
        BL       trace_f
        LDR      a1,[sp,#4]
        TST      a1,#1
        MOVNE    a3,#0
        BNE      |L000200.J20.resource_messages_alloc|
        LDR      a1,[sp,#&10]
        LDR      a2,[sp,#&c]
        ADD      a4,a1,a2
        STMDB    sp!,{a4}
        MOV      a4,a1
        LDR      a3,[sp,#4]
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&4c
        BL       m_realloc
        ADD      sp,sp,#4
        TEQ      a1,#0
        ADDEQ    a2,pc,#L0002a4-.-8
        MOVEQ    a1,#&31
        BLEQ     riscos_error_lookup
        BEQ      |L000450.J46.resource_messages_alloc|
        MOV      a2,a1
        STR      a2,[sp,#0]
        LDR      a1,[sp,#&10]
        ADD      a3,a2,a1
        LDR      a2,[sp,#&c]
        ADD      a1,a1,a2
        STR      a1,[sp,#&10]
|L000200.J20.resource_messages_alloc|
        MOV      a2,v2
        ADD      a1,sp,#&14
        BL       xmessagetrans_open_file
        MOVS     v3,a1
        BNE      |L000454.J43.resource_messages_alloc|
        MOV      v2,#1
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        LDR      a4,[sp,#&10]
        BEQ      |L0002e4.J25.resource_messages_alloc|
        STMDB    sp!,{a4}
        MOV      a4,a1
        ADD      a3,pc,#L0002ac-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&5a
        BL       trace_f
        ADD      sp,sp,#4
        B        |L0002f4.J27.resource_messages_alloc|
L000248
        DCB     &61,&74,&20,&65
        DCB     &6e,&74,&72,&79
        DCB     &3a,&20,&6d,&65
        DCB     &73,&73,&61,&67
        DCB     &65,&73,&20,&4e
        DCB     &55,&4c,&4c,&2c
        DCB     &20,&73,&69,&7a
        DCB     &65,&20,&25,&64
        DCB     &0a,&00,&00,&00
L00026c
        DCB     &72,&65,&61,&64
        DCB     &69,&6e,&67,&20
        DCB     &73,&69,&7a,&65
        DCB     &20,&6f,&66,&20
        DCB     &22,&25,&73,&22
        DCB     &0a,&00,&00,&00
L000284
        DCB     &73,&69,&7a,&65
        DCB     &20,&6f,&66,&20
        DCB     &6d,&65,&73,&73
        DCB     &61,&67,&65,&73
        DCB     &20,&66,&69,&6c
        DCB     &65,&20,&69,&73
        DCB     &20,&25,&64,&0a
        DCB     &00,&00,&00,&00
L0002a4
        DCB     &4e,&6f,&4d,&65
        DCB     &6d,&00,&00,&00
L0002ac
        DCB     &61,&66,&74,&65
        DCB     &72,&20,&78,&6d
        DCB     &65,&73,&73,&61
        DCB     &67,&65,&74,&72
        DCB     &61,&6e,&73,&5f
        DCB     &6f,&70,&65,&6e
        DCB     &5f,&66,&69,&6c
        DCB     &65,&3a,&20,&6d
        DCB     &65,&73,&73,&61
        DCB     &67,&65,&73,&20
        DCB     &22,&25,&73,&22
        DCB     &2c,&20,&73,&69
        DCB     &7a,&65,&20,&25
        DCB     &64,&0a,&00,&00
|L0002e4.J25.resource_messages_alloc|
        ADD      a3,pc,#L000370-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&5d
        BL       trace_f
|L0002f4.J27.resource_messages_alloc|
        MOV      a1,#0
        STR      a1,[sp,#8]
|L0002fc.J28.resource_messages_alloc|
        SUB      sp,sp,#&10c
        ADD      a4,sp,#&114
        ADD      a3,sp,#4
        ADD      a2,sp,#8
        LDR      a1,[sp,#&114]
        STMDB    sp!,{a1-a4}
        ADD      a3,sp,#&1c
        ADD      a1,sp,#&130
        ADD      a2,pc,#L0003a8-.-8
        MOV      a4,#&ff
        BL       xmessagetrans_enumerate_tokens
        ADD      sp,sp,#&10
        MOVS     v3,a1
        BNE      |L000434.J38.resource_messages_alloc|
        LDR      a1,[sp,#8]
        TEQ      a1,#0
        BNE      |L0003ac.J32.resource_messages_alloc|
        MOV      a1,v1
        LDR      a3,[sp,#&10c]!
        SUB      a2,pc,#.+8-L000110
        BL       lookup_insert
        MOVS     v3,a1
        BNE      |L000438.J8.resource_messages_alloc|
        MOV      a1,v1
        LDR      a3,[sp,#&10]
        SUB      a2,pc,#.+8-L00011c
        BL       lookup_insert
        MOV      v3,a1
        B        |L000438.J8.resource_messages_alloc|
L000370
        DCB     &61,&66,&74,&65
        DCB     &72,&20,&78,&6d
        DCB     &65,&73,&73,&61
        DCB     &67,&65,&74,&72
        DCB     &61,&6e,&73,&5f
        DCB     &6f,&70,&65,&6e
        DCB     &5f,&66,&69,&6c
        DCB     &65,&3a,&20,&6d
        DCB     &65,&73,&73,&61
        DCB     &67,&65,&73,&20
        DCB     &4e,&55,&4c,&4c
        DCB     &2c,&20,&73,&69
        DCB     &7a,&65,&20,&25
        DCB     &64,&0a,&00,&00
L0003a8
        DCB     &2a,&00,&00,&00
|L0003ac.J32.resource_messages_alloc|
        ADD      a4,sp,#&c
        ADD      a3,pc,#L000484-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&6a
        BL       trace_f
        ADD      a4,sp,#4
        MOV      a3,sp
        MOV      a2,#0
        MOV      a1,#0
        STMDB    sp!,{a1-a4}
        MOV      a4,#0
        MOV      a3,#0
        STMDB    sp!,{a3,a4}
        ADD      a2,sp,#&24
        ADD      a1,sp,#&138
        BL       xmessagetrans_lookup
        ADD      sp,sp,#&18
        MOVS     v3,a1
        BNE      |L000434.J38.resource_messages_alloc|
        LDR      a3,[sp,#4]
        LDR      a4,[sp,#0]
        STMDB    sp!,{a3,a4}
        ADD      a4,sp,#&14
        ADD      a3,pc,#L00049c-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&6f
        BL       trace_f
        LDR      a3,[sp,#8]!
        ADD      a2,sp,#&c
        MOV      a1,v1
        BL       lookup_insert
        MOVS     v3,a1
        ADDEQ    sp,sp,#&10c
        BEQ      |L0002fc.J28.resource_messages_alloc|
|L000434.J38.resource_messages_alloc|
        ADD      sp,sp,#&10c
|L000438.J8.resource_messages_alloc|
        TEQ      v2,#0
        BEQ      |L000454.J43.resource_messages_alloc|
        ADD      a1,sp,#&14
        BL       xmessagetrans_close_file
        TEQ      v3,#0
        BNE      |L000454.J43.resource_messages_alloc|
|L000450.J46.resource_messages_alloc|
        MOV      v3,a1
|L000454.J43.resource_messages_alloc|
        TEQ      v3,#0
        BEQ      |L00047c.J47.resource_messages_alloc|
        LDR      a4,[v3,#0]
        STMDB    sp!,{a4}
        ADD      a4,v3,#4
        ADD      a3,pc,#L0004a8-.-8
        SUB      a1,pc,#.+8-L0000f4
        MOV      a2,#&80
        BL       trace_f
        ADD      sp,sp,#4
|L00047c.J47.resource_messages_alloc|
        MOV      a1,v3
        LDMDB    fp,{v1-v3,fp,sp,pc}^
L000484
        DCB     &65,&6e,&75,&6d
        DCB     &65,&72,&61,&74
        DCB     &65,&64,&20,&74
        DCB     &6f,&6b,&65,&6e
        DCB     &20,&25,&73,&0a
        DCB     &00,&00,&00,&00
L00049c
        DCB     &2e,&2e,&2e,&25
        DCB     &73,&3a,&25,&2e
        DCB     &2a,&73,&0a,&00
L0004a8
        DCB     &45,&52,&52,&4f
        DCB     &52,&3a,&20,&25
        DCB     &73,&20,&28,&65
        DCB     &72,&72,&6f,&72
        DCB     &20,&30,&78,&25
        DCB     &58,&29,&0a,&00

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&6d,&65,&73
        DCB     &73,&61,&67,&65
        DCB     &73,&5f,&66,&72
        DCB     &65,&65,&00,&00
        DCD     &ff000018

        IMPORT  __rt_stkovf_split_small
        IMPORT  m_free
        EXPORT  resource_messages_free
resource_messages_free
        MOV      ip,sp
        STMDB    sp!,{a1,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        SUB      sp,sp,#8
        ADD      a3,pc,#L0005dc-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&89
        BL       trace_f
        ADD      a3,sp,#4
        MOV      a1,v1
        LDR      a2,[pc, #L0005f8-.-8]
        BL       lookup
        MOVS     v2,a1
        BEQ      |L000534.J4.resource_messages_free|
        LDR      a1,[v2,#0]
        TEQ      a1,#9
        BNE      |L0005ac.J8.resource_messages_free|
        MOV      a1,#0
        STR      a1,[sp,#4]
|L000534.J4.resource_messages_free|
        MOV      a3,sp
        MOV      a1,v1
        ADD      a2,pc,#L0005fc-.-8
        BL       lookup
        MOVS     v2,a1
        BEQ      |L000560.J9.resource_messages_free|
        LDR      a1,[v2,#0]
        TEQ      a1,#9
        BNE      |L0005ac.J8.resource_messages_free|
        MOV      a1,#0
        STR      a1,[sp,#0]
|L000560.J9.resource_messages_free|
        LDR      a3,[sp,#4]
        TEQ      a3,#0
        BEQ      |L0005ac.J8.resource_messages_free|
        LDR      a4,[sp,#0]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&99
        BL       m_free
        MOV      a1,v1
        LDR      a2,[pc, #L0005f8-.-8]
        MOV      a3,#0
        BL       lookup_insert
        MOVS     v2,a1
        BNE      |L0005ac.J8.resource_messages_free|
        MOV      a1,v1
        ADD      a2,pc,#L0005fc-.-8
        MOV      a3,#0
        BL       lookup_insert
        MOVS     v2,a1
        BEQ      |L0005d4.J19.resource_messages_free|
|L0005ac.J8.resource_messages_free|
        TEQ      v2,#0
        BEQ      |L0005d4.J19.resource_messages_free|
        LDR      a4,[v2,#0]
        STMDB    sp!,{a4}
        ADD      a4,v2,#4
        SUB      a3,pc,#.+8-L0004a8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&a3
        BL       trace_f
        ADD      sp,sp,#4
|L0005d4.J19.resource_messages_free|
        MOV      a1,v2
        LDMDB    fp,{v1,v2,fp,sp,pc}^
L0005dc
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&6d,&65,&73
        DCB     &73,&61,&67,&65
        DCB     &73,&5f,&66,&72
        DCB     &65,&65,&0a,&00
L0005f4
        DCD     |x$codeseg|+&f4
L0005f8
        DCD     |x$codeseg|+&110
L0005fc
        DCB     &21,&53,&69,&7a
        DCB     &65,&00,&00,&00

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&73,&70,&72
        DCB     &69,&74,&65,&73
        DCB     &5f,&61,&6c,&6c
        DCB     &6f,&63,&00,&00
        DCD     &ff000018

        IMPORT  xosfile_read_no_path
        IMPORT  xosfile_make_error
        IMPORT  xosspriteop_load_sprite_file
        IMPORT  xosspriteop_merge_sprite_file
        IMPORT  xosspriteop_read_area_cb
        IMPORT  xosspriteop_return_name
        IMPORT  xosspriteop_select_sprite
        EXPORT  resource_sprites_alloc
resource_sprites_alloc
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v4,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v2,a1
        MOV      v1,a2
        SUB      sp,sp,#&28
        ADD      a3,pc,#L000758-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&b7
        BL       trace_f
        MOV      a3,sp
        MOV      a1,v2
        ADD      a2,pc,#L000770-.-8
        BL       lookup
        MOVS     v3,a1
        BEQ      |L00067c.J4.resource_sprites_alloc|
        LDR      a1,[v3,#0]
        TEQ      a1,#9
        BNE      |L000994.J8.resource_sprites_alloc|
        MOV      a1,#0
        STR      a1,[sp,#0]
|L00067c.J4.resource_sprites_alloc|
        MOV      a4,v1
        LDR      a3,[pc, #L00077c-.-8]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&c0
        BL       trace_f
        ADD      a4,sp,#&c
        ADD      a3,sp,#&20
        STMDB    sp!,{a3,a4}
        ADD      a4,sp,#&c
        ADD      a3,sp,#&10
        ADD      a2,sp,#&2c
        MOV      a1,v1
        BL       xosfile_read_no_path
        ADD      sp,sp,#8
        MOVS     v3,a1
        BNE      |L000994.J8.resource_sprites_alloc|
        LDR      a4,[sp,#&20]
        ADD      a3,pc,#L000780-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&c4
        BL       trace_f
        LDR      a2,[sp,#&24]
        TEQ      a2,#1
        MOVNE    a1,v1
        BLNE     xosfile_make_error
        BNE      |L000750.J47.resource_sprites_alloc|
        MOV      v4,#4
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        MOVEQ    a1,v4
        LDRNE    a1,[a1,#&c]
        LDR      a2,[sp,#&20]
        ADD      a4,a1,a2
        MOV      v3,a4
        ADD      a3,pc,#L00079c-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&cd
        BL       trace_f
        MOV      a4,v3
        STMDB    sp!,{a4}
        LDR      a3,[sp,#4]
        TEQ      a3,#0
        MOVEQ    a4,v4
        LDRNE    a4,[a3,#&c]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&cf
        BL       m_realloc
        ADD      sp,sp,#4
        MOVS     v4,a1
        BNE      |L0007cc.J16.resource_sprites_alloc|
        ADD      a2,pc,#L0007c4-.-8
        MOV      a1,#&31
        BL       riscos_error_lookup
|L000750.J47.resource_sprites_alloc|
        MOV      v3,a1
        B        |L000994.J8.resource_sprites_alloc|
L000758
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&73,&70,&72
        DCB     &69,&74,&65,&73
        DCB     &5f,&61,&6c,&6c
        DCB     &6f,&63,&0a,&00
L000770
        DCB     &21,&53,&70,&72
        DCB     &69,&74,&65,&73
        DCB     &00,&00,&00,&00
L00077c
        DCD     |x$codeseg|+&26c
L000780
        DCB     &73,&69,&7a,&65
        DCB     &20,&6f,&66,&20
        DCB     &73,&70,&72,&69
        DCB     &74,&65,&73,&20
        DCB     &66,&69,&6c,&65
        DCB     &20,&69,&73,&20
        DCB     &25,&64,&0a,&00
L00079c
        DCB     &61,&6c,&6c,&6f
        DCB     &63,&61,&74,&69
        DCB     &6e,&67,&20,&25
        DCB     &64,&20,&62,&79
        DCB     &74,&73,&65,&20
        DCB     &66,&6f,&72,&20
        DCB     &73,&70,&72,&69
        DCB     &74,&65,&20,&61
        DCB     &72,&65,&61,&0a
        DCB     &00,&00,&00,&00
L0007c4
        DCB     &4e,&6f,&4d,&65
        DCB     &6d,&00,&00,&00
|L0007cc.J16.resource_sprites_alloc|
        STR      v3,[v4,#0]
        LDR      a1,[sp,#0]
        TEQ      a1,#0
        BNE      |L000824.J21.resource_sprites_alloc|
        MOV      a1,#&10
        STR      a1,[v4,#8]
        ADD      a3,pc,#L000810-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&d8
        BL       trace_f
        MOV      a3,v1
        MOV      a2,v4
        MOV      a1,#&100
        BL       xosspriteop_load_sprite_file
        MOVS     v3,a1
        BNE      |L000994.J8.resource_sprites_alloc|
        B        |L00085c.J25.resource_sprites_alloc|
L000810
        DCB     &6c,&6f,&61,&64
        DCB     &20,&73,&70,&72
        DCB     &69,&74,&65,&20
        DCB     &66,&69,&6c,&65
        DCB     &0a,&00,&00,&00
|L000824.J21.resource_sprites_alloc|
        LDMIB    v4,{a2-a4}
        STMDB    sp!,{a2-a4}
        LDR      a4,[v4,#0]
        ADD      a3,pc,#L00091c-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&df
        BL       trace_f
        ADD      sp,sp,#&c
        MOV      a3,v1
        MOV      a2,v4
        MOV      a1,#&100
        BL       xosspriteop_merge_sprite_file
        MOVS     v3,a1
        BNE      |L000994.J8.resource_sprites_alloc|
|L00085c.J25.resource_sprites_alloc|
        STR      v4,[sp,#0]
        ADD      a3,pc,#L000958-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&e9
        BL       trace_f
        ADD      a4,sp,#&18
        ADD      a3,sp,#&1c
        STMDB    sp!,{a3,a4}
        ADD      a4,sp,#&1c
        ADD      a3,sp,#&28
        MOV      a1,#&100
        LDR      a2,[sp,#8]
        BL       xosspriteop_read_area_cb
        ADD      sp,sp,#8
        MOVS     v3,a1
        BNE      |L000994.J8.resource_sprites_alloc|
        MOV      a1,#0
        LDR      a2,[sp,#&14]
        CMP      a2,#0
        BLE      |L00097c.J31.resource_sprites_alloc|
|L0008ac.J30.resource_sprites_alloc|
        SUB      sp,sp,#&14
        ADD      a4,sp,#&24
        ADD      a3,a1,#1
        MOV      v1,a3
        STMDB    sp!,{a3,a4}
        ADD      a3,sp,#8
        MOV      a4,#&d
        MOV      a1,#&100
        LDR      a2,[sp,#&1c]
        BL       xosspriteop_return_name
        ADD      sp,sp,#8
        MOVS     v3,a1
        BNE      |L000914.J38.resource_sprites_alloc|
        ADD      a4,sp,#&10
        MOV      a3,sp
        MOV      a1,#&100
        LDR      a2,[sp,#&14]
        BL       xosspriteop_select_sprite
        MOVS     v3,a1
        BNE      |L000914.J38.resource_sprites_alloc|
        LDR      a3,[sp,#&10]
        MOV      a2,sp
        MOV      a1,v2
        BL       lookup_insert
        MOVS     v3,a1
        BEQ      |L000968.J37.resource_sprites_alloc|
|L000914.J38.resource_sprites_alloc|
        ADD      sp,sp,#&14
        B        |L000994.J8.resource_sprites_alloc|
L00091c
        DCB     &6d,&65,&72,&67
        DCB     &65,&20,&73,&70
        DCB     &72,&69,&74,&65
        DCB     &20,&66,&69,&6c
        DCB     &65,&3a,&20,&73
        DCB     &69,&7a,&65,&20
        DCB     &25,&64,&2c,&20
        DCB     &63,&6f,&75,&6e
        DCB     &74,&20,&25,&64
        DCB     &2c,&20,&66,&69
        DCB     &72,&73,&74,&20
        DCB     &25,&64,&2c,&20
        DCB     &75,&73,&65,&64
        DCB     &20,&25,&64,&0a
        DCB     &00,&00,&00,&00
L000958
        DCB     &72,&65,&61,&64
        DCB     &20,&61,&72,&65
        DCB     &61,&20,&63,&62
        DCB     &0a,&00,&00,&00
|L000968.J37.resource_sprites_alloc|
        ADD      sp,sp,#&14
        MOV      a1,v1
        LDR      a2,[sp,#&14]
        CMP      v1,a2
        BLT      |L0008ac.J30.resource_sprites_alloc|
|L00097c.J31.resource_sprites_alloc|
        MOV      a1,v2
        LDR      a3,[sp,#0]
        SUB      a2,pc,#.+8-L000770
        BL       lookup_insert
        MOVS     v3,a1
        BEQ      |L0009bc.J42.resource_sprites_alloc|
|L000994.J8.resource_sprites_alloc|
        TEQ      v3,#0
        BEQ      |L0009bc.J42.resource_sprites_alloc|
        LDR      a4,[v3,#0]
        STMDB    sp!,{a4}
        ADD      a4,v3,#4
        LDR      a3,[pc, #L0009c4-.-8]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&104
        BL       trace_f
        ADD      sp,sp,#4
|L0009bc.J42.resource_sprites_alloc|
        MOV      a1,v3
        LDMDB    fp,{v1-v4,fp,sp,pc}^
L0009c4
        DCD     |x$codeseg|+&4a8

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&73,&70,&72
        DCB     &69,&74,&65,&73
        DCB     &5f,&66,&72,&65
        DCB     &65,&00,&00,&00
        DCD     &ff000018

        EXPORT  resource_sprites_free
resource_sprites_free
        MOV      ip,sp
        STMDB    sp!,{a1,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        SUB      sp,sp,#4
        ADD      a3,pc,#L000a40-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&d
        ADD      a2,a2,#&100
        BL       trace_f
        MOV      a3,sp
        MOV      a1,v1
        SUB      a2,pc,#.+8-L000770
        BL       lookup
        MOVS     v2,a1
        BEQ      |L000a58.J4.resource_sprites_free|
        LDR      a1,[v2,#0]
        TEQ      a1,#9
        MOVEQ    a1,#0
        STREQ    a1,[sp,#0]
        B        |L000a90.J8.resource_sprites_free|
L000a40
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&73,&70,&72
        DCB     &69,&74,&65,&73
        DCB     &5f,&66,&72,&65
        DCB     &65,&0a,&00,&00
|L000a58.J4.resource_sprites_free|
        LDR      a3,[sp,#0]
        TEQ      a3,#0
        BEQ      |L000a90.J8.resource_sprites_free|
        LDR      a4,[a3,#&c]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&17
        ADD      a2,a2,#&100
        BL       m_free
        MOV      a1,v1
        SUB      a2,pc,#.+8-L000770
        MOV      a3,#0
        BL       lookup_insert
        MOVS     v2,a1
        BEQ      |L000ab8.J13.resource_sprites_free|
|L000a90.J8.resource_sprites_free|
        TEQ      v2,#0
        BEQ      |L000ab8.J13.resource_sprites_free|
        LDR      a4,[v2,#0]
        STMDB    sp!,{a4}
        ADD      a4,v2,#4
        LDR      a3,[pc, #L0009c4-.-8]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&120
        BL       trace_f
        ADD      sp,sp,#4
|L000ab8.J13.resource_sprites_free|
        MOV      a1,v2
        LDMDB    fp,{v1,v2,fp,sp,pc}^

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&74,&65,&6d
        DCB     &70,&6c,&61,&74
        DCB     &65,&73,&5f,&61
        DCB     &6c,&6c,&6f,&63
        DCB     &00,&00,&00,&00
        DCD     &ff00001c

        IMPORT  xwimp_open_template
        IMPORT  xwimp_load_template
        IMPORT  riscos_strlen
        IMPORT  m_alloc
        IMPORT  xwimp_close_template
        EXPORT  resource_templates_alloc
resource_templates_alloc
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1-v6,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v2,a2
        SUB      sp,sp,#&14
        ADD      a3,pc,#L000bd4-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&33
        ADD      a2,a2,#&100
        BL       trace_f
        MOV      a1,v2
        BL       xwimp_open_template
        MOVS     v2,a1
        BNE      |L000cc8.J20.resource_templates_alloc|
        MOV      v4,#1
        MOV      a1,#0
        MOV      v6,#&2a
        MOV      v5,#0
        STR      a1,[sp,#0]
|L000b38.J7.resource_templates_alloc|
        SUB      sp,sp,#8
        STRB     v6,[sp,#&c]
        STRB     v5,[sp,#&d]
        ADD      a4,sp,#8
        MOV      a3,sp
        ADD      a2,sp,#4
        LDR      a1,[sp,#8]
        STMDB    sp!,{a1-a4}
        ADD      a4,sp,#&1c
        STMDB    sp!,{a4}
        MVN      a4,#0
        MOV      a3,#0
        MOV      a2,#0
        MOV      a1,#0
        BL       xwimp_load_template
        ADD      sp,sp,#&14
        MOVS     v2,a1
        BNE      |L000cb0.J19.resource_templates_alloc|
        LDR      a1,[sp,#8]
        TEQ      a1,#0
        BEQ      |L000cb0.J19.resource_templates_alloc|
        MOV      v2,v5
        ADD      a1,sp,#&c
        BL       riscos_strlen
        ADD      a2,sp,#&c
        STRB     v2,[a2,a1]
        LDMIA    sp,{a1,a2}
        ADD      a1,a2,a1
        ADD      a3,a1,#8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&14c
        BL       m_alloc
        MOVS     v3,a1
        BNE      |L000bf0.J14.resource_templates_alloc|
        ADD      a2,pc,#L000be8-.-8
        MOV      a1,#&31
        BL       riscos_error_lookup
        MOV      v2,a1
        B        |L000cb0.J19.resource_templates_alloc|
L000bd4
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&74,&65,&6d
        DCB     &70,&6c,&61,&74
        DCB     &65,&73,&0a,&00
L000be8
        DCB     &4e,&6f,&4d,&65
        DCB     &6d,&00,&00,&00
|L000bf0.J14.resource_templates_alloc|
        ADD      a4,v3,#8
        MOV      v2,a4
        LDR      a3,[sp,#0]
        STMDB    sp!,{a3,a4}
        LDR      a4,[sp,#&c]
        ADD      a3,pc,#L000cfc-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&51
        ADD      a2,a2,#&100
        BL       trace_f
        LDR      a1,[sp,#8]!
        STR      a1,[v3,#0]
        LDR      a1,[sp,#4]
        ADD      a1,v3,a1
        ADD      ip,a1,#8
        MOV      a4,#0
        MOV      a3,#0
        MOV      a2,#0
        MOV      a1,#0
        STR      ip,[v3,#4]
        STMDB    sp!,{a1-a4}
        ADD      a4,sp,#&1c
        STMDB    sp!,{a4}
        LDR      a1,[sp,#&14]
        ADD      a3,ip,a1
        MOV      a1,v2
        MOV      a2,ip
        MVN      a4,#0
        BL       xwimp_load_template
        ADD      sp,sp,#&14
        MOVS     v2,a1
        BNE      |L000cb0.J19.resource_templates_alloc|
        LDR      a4,[v3,#&5c]
        STMDB    sp!,{a4}
        ADD      a4,sp,#&10
        ADD      a3,pc,#L000d28-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&5b
        ADD      a2,a2,#&100
        BL       trace_f
        ADD      sp,sp,#4
        MOV      a3,v3
        ADD      a2,sp,#&c
        MOV      a1,v1
        BL       lookup_insert
        MOVS     v2,a1
        ADDEQ    sp,sp,#8
        BEQ      |L000b38.J7.resource_templates_alloc|
|L000cb0.J19.resource_templates_alloc|
        ADD      sp,sp,#8
        TEQ      v4,#0
        BEQ      |L000cc8.J20.resource_templates_alloc|
        BL       xwimp_close_template
        TEQ      v2,#0
        MOVEQ    v2,a1
|L000cc8.J20.resource_templates_alloc|
        TEQ      v2,#0
        BEQ      |L000cf4.J24.resource_templates_alloc|
        LDR      a4,[v2,#0]
        STMDB    sp!,{a4}
        ADD      a4,v2,#4
        LDR      a3,[pc, #L0009c4-.-8]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&67
        ADD      a2,a2,#&100
        BL       trace_f
        ADD      sp,sp,#4
|L000cf4.J24.resource_templates_alloc|
        MOV      a1,v2
        LDMDB    fp,{v1-v6,fp,sp,pc}^
L000cfc
        DCB     &61,&6c,&6c,&6f
        DCB     &63,&61,&74,&65
        DCB     &64,&20,&25,&64
        DCB     &20,&2b,&20,&25
        DCB     &64,&20,&62,&79
        DCB     &74,&65,&73,&20
        DCB     &61,&74,&20,&30
        DCB     &78,&25,&58,&20
        DCB     &66,&6f,&72,&20
        DCB     &77,&69,&6e,&64
        DCB     &6f,&77,&0a,&00
L000d28
        DCB     &6c,&6f,&61,&64
        DCB     &65,&64,&20,&74
        DCB     &65,&6d,&70,&6c
        DCB     &61,&74,&65,&20
        DCB     &22,&25,&73,&22
        DCB     &2c,&20,&25,&64
        DCB     &20,&69,&63,&6f
        DCB     &6e,&73,&0a,&00

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&74,&65,&6d
        DCB     &70,&6c,&61,&74
        DCB     &65,&73,&5f,&66
        DCB     &72,&65,&65,&00
        DCD     &ff000018

        IMPORT  lookup_enumerate
        EXPORT  resource_templates_free
resource_templates_free
        MOV      ip,sp
        STMDB    sp!,{a1,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        SUB      sp,sp,#8
        ADD      a3,pc,#L000de0-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&71
        ADD      a2,a2,#&100
        BL       trace_f
        MOV      a1,#0
        STR      a1,[sp,#4]
|L000d9c.J4.resource_templates_free|
        ADD      a4,sp,#4
        MOV      a3,sp
        MOV      a1,v1
        MOV      a2,#0
        BL       lookup_enumerate
        MOVS     v2,a1
        BNE      |L000dfc.J8.resource_templates_free|
        LDR      a1,[sp,#4]
        TEQ      a1,#0
        BEQ      |L000e24.J12.resource_templates_free|
        LDR      a3,[sp,#0]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a4,#0
        MOV      a2,#&7b
        ADD      a2,a2,#&100
        BL       m_free
        B        |L000d9c.J4.resource_templates_free|
L000de0
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&74,&65,&6d
        DCB     &70,&6c,&61,&74
        DCB     &65,&73,&5f,&66
        DCB     &72,&65,&65,&0a
        DCB     &00,&00,&00,&00
|L000dfc.J8.resource_templates_free|
        TEQ      v2,#0
        BEQ      |L000e24.J12.resource_templates_free|
        LDR      a4,[v2,#0]
        STMDB    sp!,{a4}
        ADD      a4,v2,#4
        LDR      a3,[pc, #L0009c4-.-8]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&180
        BL       trace_f
        ADD      sp,sp,#4
|L000e24.J12.resource_templates_free|
        MOV      a1,v2
        LDMDB    fp,{v1,v2,fp,sp,pc}^

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&63,&72,&65
        DCB     &61,&74,&65,&5f
        DCB     &77,&69,&6e,&64
        DCB     &6f,&77,&00,&00
        DCD     &ff000018

        IMPORT  memcpy
        IMPORT  xwimp_create_window
        EXPORT  resource_create_window
resource_create_window
        MOV      ip,sp
        STMDB    sp!,{a1-a3,v1-v6,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v1,a1
        MOV      v3,a2
        MOV      v2,a3
        SUB      sp,sp,#4
        MOV      v5,#0
        ADD      a3,pc,#L000f34-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&8d
        ADD      a2,a2,#&100
        BL       trace_f
        LDR      a4,[v1,#&5c]
        STMDB    sp!,{a4}
        LDR      a4,[v1,#0]
        ADD      a3,pc,#L000f4c-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&91
        ADD      a2,a2,#&100
        BL       trace_f
        ADD      sp,sp,#4
        LDR      a1,[v1,#0]
        ADD      v6,v1,#8
        TEQ      a1,#0
        BEQ      |L0010c8.J4.resource_create_window|
        MOV      a2,#&58
        LDR      a1,[v1,#&5c]
        ADD      a3,a2,a1,LSL #5
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&198
        BL       m_alloc
        MOVS     v4,a1
        BEQ      |L000ef4.J7.resource_create_window|
        LDR      a3,[v1,#0]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&99
        ADD      a2,a2,#&100
        BL       m_alloc
        MOVS     v5,a1
        BNE      |L000f98.J6.resource_create_window|
|L000ef4.J7.resource_create_window|
        SUB      a2,pc,#.+8-L000be8
        MOV      a1,#&31
        BL       riscos_error_lookup
        MOV      v6,a1
        LDR      a4,[v1,#0]
        STMDB    sp!,{a4}
        MOV      a2,#&58
        LDR      a1,[v1,#&5c]
        ADD      a4,a2,a1,LSL #5
        ADD      a3,pc,#L000f74-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&9e
        ADD      a2,a2,#&100
        BL       trace_f
        ADD      sp,sp,#4
        B        |L001114.J10.resource_create_window|
L000f34
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&63,&72,&65
        DCB     &61,&74,&65,&5f
        DCB     &77,&69,&6e,&64
        DCB     &6f,&77,&0a,&00
L000f4c
        DCB     &77,&69,&6e,&64
        DCB     &6f,&77,&3a,&20
        DCB     &64,&61,&74,&61
        DCB     &5f,&73,&69,&7a
        DCB     &65,&20,&25,&64
        DCB     &2c,&20,&69,&63
        DCB     &6f,&6e,&5f,&63
        DCB     &6f,&75,&6e,&74
        DCB     &20,&25,&64,&0a
        DCB     &00,&00,&00,&00
L000f74
        DCB     &66,&61,&69,&6c
        DCB     &65,&64,&20,&74
        DCB     &6f,&20,&61,&6c
        DCB     &6c,&6f,&63,&61
        DCB     &74,&65,&20,&25
        DCB     &64,&20,&2b,&20
        DCB     &25,&64,&20,&62
        DCB     &79,&74,&65,&73
        DCB     &0a,&00,&00,&00
|L000f98.J6.resource_create_window|
        MOV      a2,#&58
        LDR      a1,[v1,#&5c]
        ADD      a3,a2,a1,LSL #5
        MOV      a2,v6
        MOV      a1,v4
        BL       memcpy
        MOV      a1,v5
        LDR      a2,[v1,#4]
        LDR      a3,[v1,#0]
        BL       memcpy
        LDR      a1,[v4,#&1c]
        TST      a1,#&4000000
        LDRNE    a1,[v4,#&38]
        ANDNE    a2,a1,#3
        TEQNE    a2,#0
        ANDNE    a1,a1,#&100
        TEQNE    a1,#0
        BEQ      |L001038.J11.resource_create_window|
        ADD      a2,v4,#&48
        LDR      a1,[a2,#0]
        TEQ      a1,#0
        BEQ      |L00100c.J15.resource_create_window|
        TEQ      a1,#1
        CMNNE    a1,#1
        BEQ      |L00100c.J15.resource_create_window|
        LDR      a3,[v1,#4]
        SUB      a3,v5,a3
        ADD      a1,a3,a1
        STR      a1,[a2,#0]
|L00100c.J15.resource_create_window|
        ADD      a2,v4,#&4c
        LDR      a1,[a2,#0]
        TEQ      a1,#0
        BEQ      |L001038.J11.resource_create_window|
        TEQ      a1,#1
        CMNNE    a1,#1
        BEQ      |L001038.J11.resource_create_window|
        LDR      a3,[v1,#4]
        SUB      a3,v5,a3
        ADD      a1,a3,a1
        STR      a1,[a2,#0]
|L001038.J11.resource_create_window|
        MOV      a2,#0
        LDR      a1,[v4,#&54]
        CMP      a1,#0
        BLE      |L0010cc.J38.resource_create_window|
|L001048.J23.resource_create_window|
        ADD      a3,v4,a2,LSL #5
        LDR      a1,[a3,#&68]
        TST      a1,#3
        ANDNE    a1,a1,#&100
        TEQNE    a1,#0
        BEQ      |L0010b4.J26.resource_create_window|
        ADD      a4,a3,#&6c
        LDR      a1,[a4,#0]
        TEQ      a1,#0
        BEQ      |L00108c.J29.resource_create_window|
        TEQ      a1,#1
        CMNNE    a1,#1
        BEQ      |L00108c.J29.resource_create_window|
        LDR      ip,[v1,#4]
        SUB      ip,v5,ip
        ADD      a1,ip,a1
        STR      a1,[a4,#0]
|L00108c.J29.resource_create_window|
        LDR      a1,[a3,#&70]!
        TEQ      a1,#0
        BEQ      |L0010b4.J26.resource_create_window|
        TEQ      a1,#1
        CMNNE    a1,#1
        BEQ      |L0010b4.J26.resource_create_window|
        LDR      a4,[v1,#4]
        SUB      a4,v5,a4
        ADD      a1,a4,a1
        STR      a1,[a3,#0]
|L0010b4.J26.resource_create_window|
        ADD      a2,a2,#1
        LDR      a1,[v4,#&54]
        CMP      a2,a1
        BLT      |L001048.J23.resource_create_window|
        B        |L0010cc.J38.resource_create_window|
|L0010c8.J4.resource_create_window|
        MOV      v4,v6
|L0010cc.J38.resource_create_window|
        MOV      a2,sp
        MOV      a1,v4
        BL       xwimp_create_window
        MOVS     v6,a1
        BNE      |L001114.J10.resource_create_window|
        MOV      a4,v5
        STMDB    sp!,{a4}
        LDR      a4,[sp,#4]
        ADD      a3,pc,#L001194-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&1c8
        BL       trace_f
        ADD      sp,sp,#4
        TEQ      v3,#0
        LDRNE    a1,[sp,#0]
        STRNE    a1,[v3,#0]
        TEQ      v2,#0
        STRNE    v5,[v2,#0]
|L001114.J10.resource_create_window|
        LDR      a1,[v1,#0]
        TEQ      a1,#0
        BEQ      |L001160.J45.resource_create_window|
        MOV      a2,#&58
        LDR      a1,[v1,#&5c]
        ADD      a4,a2,a1,LSL #5
        MOV      a3,v4
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&cf
        ADD      a2,a2,#&100
        BL       m_free
        TEQ      v6,#0
        BEQ      |L00118c.J49.resource_create_window|
        MOV      a3,v5
        LDR      a4,[v1,#0]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&d1
        ADD      a2,a2,#&100
        BL       m_free
|L001160.J45.resource_create_window|
        TEQ      v6,#0
        BEQ      |L00118c.J49.resource_create_window|
        LDR      a4,[v6,#0]
        STMDB    sp!,{a4}
        ADD      a4,v6,#4
        LDR      a3,[pc, #L0009c4-.-8]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&d5
        ADD      a2,a2,#&100
        BL       trace_f
        ADD      sp,sp,#4
|L00118c.J49.resource_create_window|
        MOV      a1,v6
        LDMDB    fp,{v1-v6,fp,sp,pc}^
L001194
        DCB     &63,&72,&65,&61
        DCB     &74,&65,&64,&20
        DCB     &77,&20,&30,&78
        DCB     &25,&58,&2c,&20
        DCB     &61,&6c,&6c,&6f
        DCB     &63,&61,&74,&65
        DCB     &64,&20,&64,&61
        DCB     &74,&61,&20,&30
        DCB     &78,&25,&58,&0a
        DCB     &00,&00,&00,&00

        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&64,&65,&6c
        DCB     &65,&74,&65,&5f
        DCB     &77,&69,&6e,&64
        DCB     &6f,&77,&00,&00
        DCD     &ff000018

        IMPORT  xwimp_delete_window
        EXPORT  resource_delete_window
resource_delete_window
        MOV      ip,sp
        STMDB    sp!,{a1,a2,v1,v2,fp,ip,lr,pc}
        SUB      fp,ip,#4
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v2,a1
        MOV      v1,a2
        ADD      a3,pc,#L00125c-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&dd
        ADD      a2,a2,#&100
        BL       trace_f
        MOV      a4,v1
        STMDB    sp!,{a4}
        MOV      a4,v2
        ADD      a3,pc,#L001274-.-8
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&de
        ADD      a2,a2,#&100
        BL       trace_f
        ADD      sp,sp,#4
        MOV      a1,v2
        BL       xwimp_delete_window
        MOV      v2,a1
        CMP      a1,#0
        BNE      |L001298.J6.resource_delete_window|
        MOV      a3,v1
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a4,#0
        MOV      a2,#&e3
        ADD      a2,a2,#&100
        BL       m_free
        B        |L0012c0.J7.resource_delete_window|
L00125c
        DCB     &72,&65,&73,&6f
        DCB     &75,&72,&63,&65
        DCB     &5f,&64,&65,&6c
        DCB     &65,&74,&65,&5f
        DCB     &77,&69,&6e,&64
        DCB     &6f,&77,&0a,&00
L001274
        DCB     &64,&65,&6c,&65
        DCB     &74,&69,&6e,&67
        DCB     &20,&77,&20,&30
        DCB     &78,&25,&58,&2c
        DCB     &20,&66,&72,&65
        DCB     &65,&69,&6e,&67
        DCB     &20,&64,&61,&74
        DCB     &61,&20,&30,&78
        DCB     &25,&58,&0a,&00
|L001298.J6.resource_delete_window|
        BEQ      |L0012c0.J7.resource_delete_window|
        LDR      a4,[v2,#0]
        STMDB    sp!,{a4}
        ADD      a4,v2,#4
        LDR      a3,[pc, #L0009c4-.-8]
        LDR      a1,[pc, #L0005f4-.-8]
        MOV      a2,#&e7
        ADD      a2,a2,#&100
        BL       trace_f
        ADD      sp,sp,#4
|L0012c0.J7.resource_delete_window|
        MOV      a1,v2
        LDMDB    fp,{v1,v2,fp,sp,pc}^

        AREA |C$$data|,DATA

|x$dataseg|

        END
