; generated by Norcroft RISC OS ARM C vsn 5.06 (Acorn Computers Ltd) [May 25 1995]

        AREA |C$$code|, CODE, READONLY
|x$codeseg|

        DCB     &72,&61,&77,&73
        DCB     &70,&72,&69,&74
        DCB     &65,&5f,&73,&61
        DCB     &76,&65,&00,&00
        DCD     &ff000010

        IMPORT  __rt_stkovf_split_small
        IMPORT  memset
        IMPORT  memcpy
        IMPORT  fopen
        IMPORT  fwrite
        IMPORT  fclose
        IMPORT  _kernel_swi
        EXPORT  rawsprite_save
rawsprite_save
        MOV      ip,sp
        STMDB    sp!,{a1-a4}
        STMDB    sp!,{v1-v6,fp,ip,lr,pc}
        SUB      fp,ip,#&14
        CMP      sp,sl
        BLLT     __rt_stkovf_split_small
        MOV      v3,a1
        MOV      v2,a3
        MOV      v1,a4
        SUB      sp,sp,#&64
        MUL      v4,v1,v2
        ADD      a1,v4,#&3c
        LDR      v6,[fp,#&14]
        STR      a1,[sp,#&28]
        MOV      a1,#1
        STR      a1,[sp,#&2c]
        MOV      a1,#&10
        STR      a1,[sp,#&30]
        LDR      a1,[sp,#&28]
        STR      a1,[sp,#&34]
        ADD      a1,v4,#&2c
        STR      a1,[sp,#&38]
        ADD      a1,sp,#&3c
        MOV      v5,a1
        MOV      a3,#&c
        MOV      a2,#0
        BL       memset
        MOV      a1,v5
        ADD      a2,pc,#L000100-.-8
        MOV      a3,#&a
        BL       memcpy
        MOV      a1,v2,LSR #2
        SUB      a1,a1,#1
        STR      a1,[sp,#&48]
        SUB      a1,v1,#1
        STR      a1,[sp,#&4c]
        MOV      a1,#0
        STR      a1,[sp,#&50]
        MOV      a1,#&1f
        STR      a1,[sp,#&54]
        MOV      a1,#&2c
        STR      a1,[sp,#&58]
        TEQ      v6,#0
        STR      a1,[sp,#&5c]
        MOVEQ    a1,#&19
        BEQ      |L0000e4.J16.rawsprite_save|
        TEQ      v6,#1
        MOVEQ    a1,#&1a
        BEQ      |L0000e4.J16.rawsprite_save|
        TEQ      v6,#2
        MOVEQ    a1,#&1b
        MOVNE    a1,#&1c
|L0000e4.J16.rawsprite_save|
        STR      a1,[sp,#&60]
        MOV      a1,v3
        ADD      a2,pc,#L00010c-.-8
        BL       fopen
        MOVS     v1,a1
        BNE      |L000110.J12.rawsprite_save|
|L0000fc.J17.rawsprite_save|
        LDMDB    fp,{v1-v6,fp,sp,pc}^
L000100
        DCB     &72,&61,&77,&73
        DCB     &70,&72,&69,&74
        DCB     &65,&00,&00,&00
L00010c
        DCB     &77,&62,&00,&00
|L000110.J12.rawsprite_save|
        ADD      a1,sp,#&2c
        MOV      a4,v1
        MOV      a3,#1
        MOV      a2,#&38
        BL       fwrite
        MOV      a4,v1
        MOV      a2,v4
        MOV      a3,#1
        LDR      a1,[fp,#8]
        BL       fwrite
        MOV      a1,v1
        BL       fclose
        MOV      a1,#&12
        STMIA    sp,{a1,v3}
        MOV      a1,#&f9
        ADD      a1,a1,#&f00
        STR      a1,[sp,#8]
        MOV      a3,sp
        MOV      a2,sp
        MOV      a1,#8
        BL       _kernel_swi
        B        |L0000fc.J17.rawsprite_save|

        AREA |C$$data|,DATA

|x$dataseg|

        END
