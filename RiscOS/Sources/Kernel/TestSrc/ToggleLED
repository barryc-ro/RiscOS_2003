; > ToggleLED
; Source for ToggleLED function
;
; ***********************************
; ***    C h a n g e   L i s t    ***
; ***********************************
;
; Date       Who  Version       Description
; ----       ---  -------       -----------
; 29-May-96  BAR  0.01		Started
;
; This file will provide support to flash the standby/on LED's.
;

IOMD_IOLINES		*	(IOMD_Base+&0C)
IOMD_IOLINES_INPUTS	*	&7B
IOMD_STANDBY_LED_BIT	*	1<<7

tl_Toggle_LEDs	ROUT
; Toggle the standby/on LEDs
; On entry ....
;	Nothing.
; Register usage ....
; 	r0, general scratch pad
; 	r1, addr of IOMD_IOLINES
;
	LDR	r1, =IOMD_IOLINES       	; r1 = addr of IOMD_IOLINES
	LDRB	r0,[r1]				; load r0 with the byte pointed to by r1
	EOR	r0,r0,#IOMD_STANDBY_LED_BIT     ; Toggle the LED bit; ExOR
	ORR	r0,r0,#IOMD_IOLINES_INPUTS	; OR with the default I/O settings
	STRB	r0,[r1]				; store a byte of r0 in to loc pointed to by r1

	MOV	pc, r14				; Return to caller

        END
