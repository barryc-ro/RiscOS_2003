        GET     Hdr:ListOpts
        GET     Hdr:Macros
        GET     Hdr:System
        GET     Hdr:Machine.<Machine>
        GET     Hdr:ImageSize.<ImageSize>
        $GetIO

        GET     Hdr:OSEntries
        GET     Hdr:HALEntries

        GET     hdr.StaticWS

    	EXPORT	HAL_NVMemoryType
    	EXPORT	HAL_NVMemorySize
    	EXPORT	HAL_NVMemoryProtectedSize
    	EXPORT	HAL_NVMemoryProtection
    	EXPORT	HAL_NVMemoryIICAddress
    	EXPORT	HAL_NVMemoryRead
    	EXPORT	HAL_NVMemoryWrite

        AREA    |Asm$$Code|, CODE, READONLY, PIC

HAL_NVMemoryTypeFlags
    	DCD 	NVMemoryFlag_MaybeIIC :OR: NVMemoryFlag_ProtectAtEnd
HAL_NVMemoryType
    	LDR 	R0, HAL_NVMemoryTypeFlags
        MOV     pc, lr

; Number of 256 blocks available
HAL_NVMemorySize
    	MOV 	R0, #1
        MOV     pc, lr

HAL_NVMemoryProtectedSize
    	MOV 	R0, #0
        MOV     pc, lr

; in: r0 = 0/1 to unprotect/protect
HAL_NVMemoryProtection
        MOV     pc, lr

HAL_NVMemoryIICAddress
    	MOV 	R0, #&a0
        MOV     pc, lr

HAL_NVMemoryRead
        MOV     pc, lr

HAL_NVMemoryWrite
        MOV     pc, lr

        END

