struct peripheral
{
    uint32_t type;
    uint32_t location;
    uint32_t version;
    const char *description;
    uint32_t reserved[4];
    int (*Activate)(struct peripheral *);
    void (*Deactivate)(struct peripheral *)
    void (*Reset)(struct peripheral *);
    int (*Sleep)(struct peripheral *, state);
    int (*Claim)(struct peripheral *, int intno, myfunc, handle);
    void (*Release)(struct peripheral *, int intno, myfunc, handle);
    uint32_t reserved[2];

};


struct serial
{
    struct peripheral p;
    int (*ReadByte)(struct serial *);

    // private data
}


