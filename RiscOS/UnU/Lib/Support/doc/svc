svc.asm
-------

   This module provides 3 functions to allow a programme to change and
examine the processor mode. svc_enter() goes into SVC mode (from USR)
mode), and svc_exit() returns to USR mode. They must be used with
**extreme caution**, as the C code generated by compiler will be
assuming that that its registers are preserved: it doesn't know that a
different bank has been switched in. In particular, the stack
pointer is now referring to a different stack, and so any attempt to
access local variables other than those in non-banked registers will
fail.

   Therefore, whenever these functions are used, the emitted code should
examined (with cc -s) and a visual check should be made that the code
between svc_enter() and svc_exit() does not use any banked registers.
This check should be repeated whenever a new release of the compiler is
used.

   There is also a function svc_get_mode() which returns the current
processor mode, as of svc_USR, svc_SVC, svc_IRQ and svc_FIQ.
