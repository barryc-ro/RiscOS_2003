/*
        Functions to enumerate a NFS directory
*/
#ifndef __NFSENUMDIR_H
#define __NFSENUMDIR_H
#ifndef __NFSTYPES_H
#include "NFSTypes.h"
#endif

/*
        This starts a directory listing

        Input:
         [listing]      pointer to the listing context
         [mount_point]  the mount point for the dir
         [nfs_fh]       the nfs handle of the dir

        Output:
         [listing] initialised
*/
extern void start_through_directory( dirstep *listing, MountPoint *mount_point, nfs_fh *dir );

/*
        This steps to the next file in a directory listing.

        After stepping, [theresmore] is Yes if another entry in the
        directory was obtained.
*/
extern _kernel_oserror *step_to_next_file( dirstep *listing, YesNoAnswer *theresmore );

/*

  Input: [listing]

  Output: [nfsname]

  get the nfsname of the current entry.
  [nfsname] remains owned elsewhere.
 */
extern _kernel_oserror *read_this_file( dirstep *listing, char **nfsname );

#endif
