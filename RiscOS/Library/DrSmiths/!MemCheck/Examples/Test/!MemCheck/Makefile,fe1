# This makefile made by Makatic3


CCExtra=-g
MemCheckCC=MemCheck.CC
LinkExtra=-d
MemCheckLib=MC
StubsLib=Stubs
CCName=cc
LinkName=Link



ProjectName		=	!MemCheck

ObjectFiles	=	\
	o.Main\
	o.Test\




Librarys	=					\
			MemCheck:o.$(MemCheckLib)	\
			C:o.$(StubsLib)	\

Target		=	!RunImage

ASMFlags	=	$(ASMExtra) -Stamp -NoCache -CloseExec -Quit -throwback
CCFlags		=	$(CCExtra) -fahi -depend !Depend -throwback -I,@.^,C:
CPPFlags	=	$(CPPExtra) -depend !Depend -throwback -I,@.^,C:
LinkFlags	=	$(LinkExtra)

ASM		=	objasm $(ASMFlags)
CC		=	$(MemCheckCC) $(CCName) -c $(CCFlags)
CPP		=	Makatic._C++ c++ -c $(CPPFlags)
LINK		=	$(LinkName) -aif $(LinkFlags)



# Don't alter anything below this...


VPATH = @.^

.SUFFIXES:	.o .s .c .c++

$(Target):	$(ObjectFiles) $(Librarys)
	$(LINK) -o $@ $(ObjectFiles) $(Librarys)
	Settype $@ ff8

.s.o:
	$(ASM) -from $< -to $@

.c.o:
	$(CC) -o $@ $<

.c++.o:
	$(CPP) -o $@ $<


# Dynamic dependencies:
o.Main:	^.c.Main
o.Main:	C:h.stdio
o.Main:	C:h.stdlib
o.Main:	C:h.time
o.Main:	C:h.string
o.Main:	MemCheck:h.MemCheck
o.Main:	C:h.stddef
o.Main:	C:h.stdio
o.Main:	C:h.stdarg
o.Main:	^.h.Test
o.Test:	^.c.Test
o.Test:	C:h.stdio
o.Test:	C:h.stdlib
o.Test:	C:h.string
o.Test:	MemCheck:h.MemCheck
o.Test:	C:h.stddef
o.Test:	C:h.stdio
o.Test:	C:h.stdarg
o.Test:	^.h.Test
