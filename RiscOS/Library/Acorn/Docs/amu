amu
===

A Make Utility.  Sources in Tools/Sources/amu
See Acorn C/C++ Manual for further documentation.

Contents:
  Changes since amu 5.06


Changes since version 5.06 are:

The debugging CLI option (-x) now does something useful.  It echoes all
macro definitions that occur, all targets, dependents and rules.  This can
be very useful for tracking down problems with makefiles.

A new "include" directive is understood.  If a line of the Makefile starts
with the word "include", then the single word parameter following that is
taken to be a filename whose contents should be logically inserted in the
Makefile at that point (ie. just like the C preprocessor's #include).  This
means that common makefile fragments can be abstracted out of individual
component makefiles, thus simplifying and standardising the build structure.

Two new macro assignment operations have been added:  ".=" does an assignment
IFF the macro is not already defined.  This means it can be used to set up
default values for macros in common makefile fragments.  "+=" does an append
to the current value of the macro.  This can be used to add extra things to a
macro, such as putting specific options onto CFLAGS, for example.

Macro handling has been fixed to the extent that nested macros now work, plus
the first rule in the Makefile (specifically, the first rule after any macro
definition) can be defined in terms of a macro.


--sbrodie, 18/04/2000
