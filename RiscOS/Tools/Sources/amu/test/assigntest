#
# Test Makefile for amu
#
# $Id$
#

OBJS = foo.o bar.o foobar.o hello.o.there

FOO1 := ${ROMOBJS1}
BAR1  = ${ROMOBJS1}

FOO2 := ${ROMOBJS2}
BAR2  = ${ROMOBJS2}

ROMOBJS1  = ${OBJS:.o=.or}
ROMOBJS2 := ${OBJS:.o=.or}

FOO3 := ${ROMOBJS1}
BAR3  = ${ROMOBJS1}

FOO4 ?= ${OBJS}
FOO4 ?= ${FOO3}

FOO5  = Hello There
FOO5 += Goodbye Again

# Only once % substitutions have been implemented should these two work
FOO6  = ${OBJS:%.o=od.%}
FOO7 := ${OBJS:%.o=od.%}

all:
  @echo OBJS = ${OBJS}         (should be: foo.o bar.o foobar.o hello.o.there)
  @echo ROMOBJS1 = ${ROMOBJS1}  (should be: foo.or bar.or foobar.or hello.o.there)
  @echo ROMOBJS2 = ${ROMOBJS2}  (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO1 is ${FOO1}                                          (should be empty)
  @echo BAR1 is ${BAR1}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO2 is ${FOO2}                                          (should be empty)
  @echo BAR2 is ${BAR2}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO3 is ${FOO3}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo BAR3 is ${BAR3}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO4 is ${FOO4}        (should be: foo.o bar.o foobar.o hello.o.there)
  @echo FOO5 is ${FOO5}                 (should be: Hello There Goodbye Again)
  @echo FOO6 is ${FOO6}     (should be: od.foo od.bar od.foobar hello.o.there)
  @echo FOO7 is ${FOO7}     (should be: od.foo od.bar od.foobar hello.o.there)

