#
# Test Makefile for amu
#
# $Id$
#

OBJS = foo.o bar.o foobar.o hello.o.there
OBJS2 = foo.o bar.o foobar.o

FOO1 := ${ROMOBJS1}
BAR1  = ${ROMOBJS1}

FOO2 := ${ROMOBJS2}
BAR2  = ${ROMOBJS2}

ROMOBJS1  = ${OBJS:.o=.or}
ROMOBJS2 := ${OBJS:.o=.or}

FOO3 := ${ROMOBJS1}
BAR3  = ${ROMOBJS1}

FOO4 ?= ${OBJS}
FOO4 ?= ${FOO3}

FOO5  = Hello There
FOO5 += Goodbye Again

FOO6  = ${OBJS:%.o=od.%}
FOO7 := ${OBJS2:%.o=od.%}
FOO8 := ${OBJS2:%.o=od.%.do}

FOO9 = ${OBJS2:%.o=od.%} nosub.o
BAR4 := ${FOO9} nosub2.o
BAR5 := ${OBJS2:%.o=od.%} nosub.o

all:
  @echo OBJS = ${OBJS}         (should be: foo.o bar.o foobar.o hello.o.there)
  @echo ROMOBJS1 = ${ROMOBJS1}  (should be: foo.or bar.or foobar.or hello.o.there)
  @echo ROMOBJS2 = ${ROMOBJS2}  (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO1 is ${FOO1}                                          (should be empty)
  @echo BAR1 is ${BAR1}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO2 is ${FOO2}                                          (should be empty)
  @echo BAR2 is ${BAR2}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO3 is ${FOO3}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo BAR3 is ${BAR3}     (should be: foo.or bar.or foobar.or hello.o.there)
  @echo FOO4 is ${FOO4}        (should be: foo.o bar.o foobar.o hello.o.there)
  @echo FOO5 is ${FOO5}                 (should be: Hello There Goodbye Again)
  @echo FOO6 is ${FOO6}     (should be: od.foo od.bar od.foobar hello.o.there)
  @echo FOO7 is ${FOO7}                   (should be: od.foo od.bar od.foobar)
  @echo FOO8 is ${FOO8}          (should be: od.foo.do od.bar.do od.foobar.do)
  @echo FOO9 is ${FOO9}           (should be: od.foo od.bar od.foobar nosub.o)
  @echo BAR4 is ${BAR4}  (should be: od.foo od.bar od.foobar nosub.o nosub2.o)
  @echo BAR5 is ${BAR5}           (should be: od.foo od.bar od.foobar nosub.o)

dep: ${FOO9}
